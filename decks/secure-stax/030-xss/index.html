<!DOCTYPE html> <html lang="en"> <head><!-- Google tag (gtag.js)--><script type="text/partytown" src="https://www.googletagmanager.com/gtag/js?id=G-GRBB86L642"></script> <script type="module">window.dataLayer=window.dataLayer||[];function a(n){window.dataLayer.push(n)}a(["js",new Date]);a(["config","G-GRBB86L642"]);</script> <script type="module" src="/_astro/BaseHead.astro_astro_type_script_index_0_lang.C-2S3G34.js"></script> <meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><script type="module" src="/_astro/ClientRouter.astro_astro_type_script_index_0_lang.e0ly9D74.js"></script> <!-- Global Metadata --> <meta charset="utf-8"> <meta name="viewport" content="width=device-width,initial-scale=1"> <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text style=%22filter: brightness(.5) grayscale(1)%22 y=%22.9em%22 font-size=%2290%22>üêà</text></svg>"> <!-- Canonical URL --> <link rel="canonical" href="https://bathcat.net/decks/secure-stax/030-xss/"> <!-- Primary Meta Tags --> <meta name="title" content="title"> <meta name="description" content="description"> <title>title</title><link rel="stylesheet" href="/_astro/_collection_.C4LMja1A.css">
<link rel="stylesheet" href="/_astro/_collection_.uwTnT2Ft.css"><script type="module" src="/_astro/page.CtpI7X2x.js"></script>
<script>!(function(w,p,f,c){if(!window.crossOriginIsolated && !navigator.serviceWorker) return;c=w[p]=Object.assign(w[p]||{},{"lib":"/~partytown/","debug":false});c[f]=(c[f]||[]).concat(["datalayer.push"])})(window,'partytown','forward');/* Partytown 0.11.2 - MIT QwikDev */
const t={preserveBehavior:!1},e=e=>{if("string"==typeof e)return[e,t];const[n,r=t]=e;return[n,{...t,...r}]},n=Object.freeze((t=>{const e=new Set;let n=[];do{Object.getOwnPropertyNames(n).forEach((t=>{"function"==typeof n[t]&&e.add(t)}))}while((n=Object.getPrototypeOf(n))!==Object.prototype);return Array.from(e)})());!function(t,r,o,i,a,s,c,l,d,p,u=t,f){function h(){f||(f=1,"/"==(c=(s.lib||"/~partytown/")+(s.debug?"debug/":""))[0]&&(d=r.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(l=setTimeout(v,(null==s?void 0:s.fallbackTimeout)||1e4),r.addEventListener("pt0",w),a?y(1):o.serviceWorker?o.serviceWorker.register(c+(s.swPath||"partytown-sw.js"),{scope:c}).then((function(t){t.active?y():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&y()}))}),console.error):v())))}function y(e){p=r.createElement(e?"script":"iframe"),t._pttab=Date.now(),e||(p.style.display="block",p.style.width="0",p.style.height="0",p.style.border="0",p.style.visibility="hidden",p.setAttribute("aria-hidden",!0)),p.src=c+"partytown-"+(e?"atomics.js?v=0.11.2":"sandbox-sw.html?"+t._pttab),r.querySelector(s.sandboxParent||"body").appendChild(p)}function v(n,o){for(w(),i==t&&(s.forward||[]).map((function(n){const[r]=e(n);delete t[r.split(".")[0]]})),n=0;n<d.length;n++)(o=r.createElement("script")).innerHTML=d[n].innerHTML,o.nonce=s.nonce,r.head.appendChild(o);p&&p.parentNode.removeChild(p)}function w(){clearTimeout(l)}s=t.partytown||{},i==t&&(s.forward||[]).map((function(r){const[o,{preserveBehavior:i}]=e(r);u=t,o.split(".").map((function(e,r,o){var a;u=u[o[r]]=r+1<o.length?u[o[r]]||(a=o[r+1],n.includes(a)?[]:{}):(()=>{let e=null;if(i){const{methodOrProperty:n,thisObject:r}=((t,e)=>{let n=t;for(let t=0;t<e.length-1;t+=1)n=n[e[t]];return{thisObject:n,methodOrProperty:e.length>0?n[e[e.length-1]]:void 0}})(t,o);"function"==typeof n&&(e=(...t)=>n.apply(r,...t))}return function(){let n;return e&&(n=e(arguments)),(t._ptf=t._ptf||[]).push(o,arguments),n}})()}))})),"complete"==r.readyState?h():(t.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h))}(window,document,navigator,top,window.crossOriginIsolated);;(e=>{e.addEventListener("astro:before-swap",e=>{let r=document.body.querySelector("iframe[src*='/~partytown/']");if(r)e.newDocument.body.append(r)})})(document);</script></head> <body> <style>astro-island,astro-slot,astro-static-slot{display:contents}</style><script>(()=>{var e=async t=>{await(await t())()};(self.Astro||(self.Astro={})).only=e;window.dispatchEvent(new Event("astro:only"));})();</script><script>(()=>{var A=Object.defineProperty;var g=(i,o,a)=>o in i?A(i,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[o]=a;var d=(i,o,a)=>g(i,typeof o!="symbol"?o+"":o,a);{let i={0:t=>m(t),1:t=>a(t),2:t=>new RegExp(t),3:t=>new Date(t),4:t=>new Map(a(t)),5:t=>new Set(a(t)),6:t=>BigInt(t),7:t=>new URL(t),8:t=>new Uint8Array(t),9:t=>new Uint16Array(t),10:t=>new Uint32Array(t),11:t=>1/0*t},o=t=>{let[l,e]=t;return l in i?i[l](e):void 0},a=t=>t.map(o),m=t=>typeof t!="object"||t===null?t:Object.fromEntries(Object.entries(t).map(([l,e])=>[l,o(e)]));class y extends HTMLElement{constructor(){super(...arguments);d(this,"Component");d(this,"hydrator");d(this,"hydrate",async()=>{var b;if(!this.hydrator||!this.isConnected)return;let e=(b=this.parentElement)==null?void 0:b.closest("astro-island[ssr]");if(e){e.addEventListener("astro:hydrate",this.hydrate,{once:!0});return}let c=this.querySelectorAll("astro-slot"),n={},h=this.querySelectorAll("template[data-astro-template]");for(let r of h){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("data-astro-template")||"default"]=r.innerHTML,r.remove())}for(let r of c){let s=r.closest(this.tagName);s!=null&&s.isSameNode(this)&&(n[r.getAttribute("name")||"default"]=r.innerHTML)}let p;try{p=this.hasAttribute("props")?m(JSON.parse(this.getAttribute("props"))):{}}catch(r){let s=this.getAttribute("component-url")||"<unknown>",v=this.getAttribute("component-export");throw v&&(s+=` (export ${v})`),console.error(`[hydrate] Error parsing props for component ${s}`,this.getAttribute("props"),r),r}let u;await this.hydrator(this)(this.Component,p,n,{client:this.getAttribute("client")}),this.removeAttribute("ssr"),this.dispatchEvent(new CustomEvent("astro:hydrate"))});d(this,"unmount",()=>{this.isConnected||this.dispatchEvent(new CustomEvent("astro:unmount"))})}disconnectedCallback(){document.removeEventListener("astro:after-swap",this.unmount),document.addEventListener("astro:after-swap",this.unmount,{once:!0})}connectedCallback(){if(!this.hasAttribute("await-children")||document.readyState==="interactive"||document.readyState==="complete")this.childrenConnectedCallback();else{let e=()=>{document.removeEventListener("DOMContentLoaded",e),c.disconnect(),this.childrenConnectedCallback()},c=new MutationObserver(()=>{var n;((n=this.lastChild)==null?void 0:n.nodeType)===Node.COMMENT_NODE&&this.lastChild.nodeValue==="astro:end"&&(this.lastChild.remove(),e())});c.observe(this,{childList:!0}),document.addEventListener("DOMContentLoaded",e)}}async childrenConnectedCallback(){let e=this.getAttribute("before-hydration-url");e&&await import(e),this.start()}async start(){let e=JSON.parse(this.getAttribute("opts")),c=this.getAttribute("client");if(Astro[c]===void 0){window.addEventListener(`astro:${c}`,()=>this.start(),{once:!0});return}try{await Astro[c](async()=>{let n=this.getAttribute("renderer-url"),[h,{default:p}]=await Promise.all([import(this.getAttribute("component-url")),n?import(n):()=>()=>{}]),u=this.getAttribute("component-export")||"default";if(!u.includes("."))this.Component=h[u];else{this.Component=h;for(let f of u.split("."))this.Component=this.Component[f]}return this.hydrator=p,this.hydrate},e,this)}catch(n){console.error(`[astro-island] Error hydrating ${this.getAttribute("component-url")}`,n)}}attributeChangedCallback(){this.hydrate()}}d(y,"observedAttributes",["props"]),customElements.get("astro-island")||customElements.define("astro-island",y)}})();</script><astro-island uid="ELArK" component-url="/_astro/BackgroundAnimation.CYDO4CKX.js" component-export="Sol" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;data-astro-transition-persist&quot;:[0,&quot;astro-uqdcbxsp-1&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Sol&quot;,&quot;value&quot;:&quot;react&quot;}" data-astro-transition-persist="astro-uqdcbxsp-1"></astro-island> <astro-island uid="Z2k2RNr" component-url="/_astro/ClientSideHeader.C7VdiXBU.js" component-export="ClientSideHeader" renderer-url="/_astro/client.BfPWZUkF.js" props="{}" ssr client="only" opts="{&quot;name&quot;:&quot;ClientSideHeader&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><header class="pb-6"> <nav class="bc-nav-header"> <astro-island uid="ko8Fp" component-url="/_astro/Menu.B4WKOn5I.js" component-export="Menu" renderer-url="/_astro/client.BfPWZUkF.js" props="{}" ssr client="only" opts="{&quot;name&quot;:&quot;Menu&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island> </nav> </header><template data-astro-template="fallback"><header class="pb-6"> <nav class="bc-nav-header"> <astro-island uid="ko8Fp" component-url="/_astro/Menu.B4WKOn5I.js" component-export="Menu" renderer-url="/_astro/client.BfPWZUkF.js" props="{}" ssr client="only" opts="{&quot;name&quot;:&quot;Menu&quot;,&quot;value&quot;:&quot;react&quot;}"></astro-island> </nav> </header></template><!--astro:end--></astro-island>  <main class> <div class="max-w-3xl px-4 text-center m-0 bg-white bg-opacity-80 dark:bg-gray-900 dark:bg-opacity-70 dark:text-gray-300 text-gray-800"> <astro-island uid="Z9OFfG" component-url="/_astro/Deck.6ln-nuxa.js" component-export="Deck" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideCount&quot;:[0,&quot;41&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Deck&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> <astro-island uid="QOitG" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;0&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> <div class="text-9xl font-semibold pt-20 dark:text-white">XSS</div>
 </template><!--astro:end--></astro-island><astro-island uid="QOqu4" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;1&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Goals</div>
<p>By the end of this deck, you should be able to answer‚Äî</p>
<ol>
<li>Name 3 flavors of <strong>XSS</strong> attack.</li>
<li>What do XSS and SQL injection have in common?</li>
<li>How does <strong>Angular</strong> automatically protect against XSS?</li>
<li>Why are server-side safeguards still essential?</li>
</ol>
 </template><!--astro:end--></astro-island><astro-island uid="QOyur" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;2&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Roadmap</div>
<ol>
<li>Overview</li>
<li>Basics</li>
<li>Server-side XSS</li>
<li>DOM-Based XSS</li>
<li>Server-Side Defenses</li>
</ol>
 </template><!--astro:end--></astro-island><astro-island uid="QOGuO" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;3&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="text-8xl text-left pl-10 font-semibold pt-20 dark:text-white">Overview</div>
 </template><!--astro:end--></astro-island><astro-island uid="QOOvc" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;4&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">XSS in 2025</div>
<ul>
<li>Client-side frameworks (Angular, React, Vue) have robust built-in protections</li>
<li>Still common in legacy apps and custom implementations</li>
<li>You have to actively bypass safeguards to introduce vulnerabilities</li>
<li>Actual use cases for bypassing protections are fairly rare</li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="QOWvz" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;5&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Terminology Note</div>
<ul>
<li>‚ÄúCross-Site Scripting‚Äù is somewhat antiquated</li>
<li>Originally meant injecting scripts from one site into another</li>
<li>Now means any kind of script injection, not necessarily cross-site</li>
<li>More accurately: <strong>client-side code injection</strong></li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="QP5vW" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;6&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">XSS vs SQL Injection</div>
<ul>
<li>Both stem from trusting user input</li>
<li>Both treat string-like data as executable code instead of literal strings</li>
<li><strong>SQL Injection</strong>: Less frequent, more devastating (full database access)</li>
<li><strong>XSS</strong>: More frequent, less devastating (client-side only)</li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="QPdwk" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;7&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Recent Incidents</div>
<ul>
<li><a href="https://security.snyk.io/vuln/SNYK-JS-ANGULAR-2949781" rel="nofollow" target="_blank">Angular vulnerability</a> (2022) - IE caching bypass</li>
<li><a href="https://wpscan.com/statistics/" rel="nofollow" target="_blank">WordPress plugins</a> - Hundreds of XSS CVEs annually</li>
<li>Persistent problem despite modern framework protections</li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="QPlwH" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;8&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="text-8xl text-left pl-10 font-semibold pt-20 dark:text-white">Basics</div>
 </template><!--astro:end--></astro-island><astro-island uid="QPtx5" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;9&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">What is <a href="https://owasp.org/www-community/attacks/xss/" rel="nofollow" target="_blank"><u>C</u>ross-<u>S</u>ite <u>S</u>cripting</a>?</div>
<ul>
<li>Attacker sneaks a malicious script into a web app</li>
<li>Script runs on other users when they run the app<sup>*</sup></li>
<li>Attacker can access
<ul>
<li>Cookies</li>
<li>Session tokens</li>
<li>Misc Data</li>
</ul>
</li>
</ul>

 </template><!--astro:end--></astro-island><astro-island uid="1pEjMV" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;10&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Impact Range</div>
<ul>
<li><strong>Minimum</strong>: Deface page content, annoy users</li>
<li><strong>Typical</strong>: Steal session cookies, impersonate user in API calls</li>
<li><strong>Maximum</strong>: Access HTML5 APIs (<a href="https://developer.mozilla.org/en-US/docs/Web/API/Geolocation_API" rel="nofollow" target="_blank">geolocation</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API" rel="nofollow" target="_blank">webcam</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/API/MediaStream_Recording_API" rel="nofollow" target="_blank">mic</a>)</li>
<li><strong>Nightmare</strong>: Deploy persistent keyloggers across user base</li>
</ul>

 </template><!--astro:end--></astro-island><astro-island uid="1pErNj" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;11&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Famous Examples</div>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Samy_(computer_worm)" rel="nofollow" target="_blank">Samy</a> broke MySpace in 2005</li>
<li><a href="https://www.exploit-db.com/?type=webapps&tag=8" rel="nofollow" target="_blank">Lots more</a></li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="1pEzNG" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;12&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">XSS Flavors</div>
<ol>
<li><strong>Reflected</strong> - Non-persistent</li>
<li><strong>Self-XSS</strong> - User tricked into pasting malicious code into the console</li>
<li><strong>Server-side</strong> - aka ‚Äòpersistant‚Äô Sneak content into a database</li>
<li><strong>DOM-Based</strong> - Exploits SPA vulnerabilities</li>
</ol>
 </template><!--astro:end--></astro-island><astro-island uid="1pEHO4" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;13&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Reflected XSS</div>
<ul>
<li>Old-school</li>
<li>Usually manipulates a query string</li>
<li>Popular for phishing</li>
<li><strong>Solution</strong>: Don‚Äôt trust query parameters</li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="1pEPOr" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;14&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Reflected XSS Vulnerability</div>
<div class="expressive-code"><style>.expressive-code{font-family:var(--ec-uiFontFml);font-size:var(--ec-uiFontSize);font-weight:var(--ec-uiFontWg);line-height:var(--ec-uiLineHt);text-size-adjust:none;-webkit-text-size-adjust:none}.expressive-code *:not(:is(svg, svg *)){all:revert;box-sizing:border-box}.expressive-code pre{display:flex;margin:0;padding:0;border:var(--ec-brdWd) solid var(--ec-brdCol);border-radius:calc(var(--ec-brdRad) + var(--ec-brdWd));background:var(--ec-codeBg)}.expressive-code pre:focus-visible{outline:3px solid var(--ec-focusBrd);outline-offset:-3px}.expressive-code pre > code{all:unset;display:block;flex:1 0 100%;padding:var(--ec-codePadBlk) 0;color:var(--ec-codeFg);font-family:var(--ec-codeFontFml);font-size:var(--ec-codeFontSize);font-weight:var(--ec-codeFontWg);line-height:var(--ec-codeLineHt)}.expressive-code pre{overflow-x:auto}.expressive-code pre.wrap .ec-line .code{white-space:pre-wrap;overflow-wrap:break-word;min-width:min(20ch, var(--ecMaxLine, 20ch))}.expressive-code pre.wrap .ec-line .code span.indent{white-space:pre}.expressive-code pre::-webkit-scrollbar,.expressive-code pre::-webkit-scrollbar-track{background-color:inherit;border-radius:calc(var(--ec-brdRad) + var(--ec-brdWd));border-top-left-radius:0;border-top-right-radius:0}.expressive-code pre::-webkit-scrollbar-thumb{background-color:var(--ec-sbThumbCol);border:4px solid transparent;background-clip:content-box;border-radius:10px}.expressive-code pre::-webkit-scrollbar-thumb:hover{background-color:var(--ec-sbThumbHoverCol)}.expressive-code .ec-line{direction:ltr;unicode-bidi:isolate;display:grid;grid-template-areas:'gutter code';grid-template-columns:auto 1fr;position:relative}.expressive-code .ec-line .gutter{grid-area:gutter;color:var(--ec-gtrFg)}.expressive-code .ec-line .gutter > *{pointer-events:none;user-select:none;-webkit-user-select:none}.expressive-code .ec-line .gutter ~ .code{--ecLineBrdCol:var(--ec-gtrBrdCol)}.expressive-code .ec-line.highlight .gutter{color:var(--ec-gtrHlFg)}.expressive-code .ec-line .code{grid-area:code;position:relative;box-sizing:content-box;padding-inline-start:calc(var(--ecIndent, 0ch) + var(--ec-codePadInl) - var(--ecGtrBrdWd));padding-inline-end:var(--ec-codePadInl);text-indent:calc(var(--ecIndent, 0ch) * -1)}.expressive-code .ec-line .code::before,.expressive-code .ec-line .code::after,.expressive-code .ec-line .code :where(*){text-indent:0}.expressive-code .ec-line .code{--ecGtrBrdWd:var(--ec-gtrBrdWd);border-inline-start:var(--ecGtrBrdWd) solid var(--ecLineBrdCol, transparent)}.expressive-code .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.expressive-code .ec-line.mark{--tmLineBgCol:var(--ec-tm-markBg)}.expressive-code .ec-line.mark .code{--ecLineBrdCol:var(--ec-tm-markBrdCol)}.expressive-code .ec-line.ins{--tmLineBgCol:var(--ec-tm-insBg);--tmLabel:var(--ec-tm-insDiffIndContent)}.expressive-code .ec-line.ins .code{--ecLineBrdCol:var(--ec-tm-insBrdCol)}.expressive-code .ec-line.ins .code::before{color:var(--ec-tm-insDiffIndCol)}.expressive-code .ec-line.del{--tmLineBgCol:var(--ec-tm-delBg);--tmLabel:var(--ec-tm-delDiffIndContent)}.expressive-code .ec-line.del .code{--ecLineBrdCol:var(--ec-tm-delBrdCol)}.expressive-code .ec-line.del .code::before{color:var(--ec-tm-delDiffIndCol)}.expressive-code .ec-line.mark,.expressive-code .ec-line.ins,.expressive-code .ec-line.del{background:var(--tmLineBgCol)}.expressive-code .ec-line.mark .code,.expressive-code .ec-line.ins .code,.expressive-code .ec-line.del .code{--ecGtrBrdWd:var(--ec-tm-lineMarkerAccentWd)}.expressive-code .ec-line.mark .code::before,.expressive-code .ec-line.ins .code::before,.expressive-code .ec-line.del .code::before{display:block;position:absolute;left:0;box-sizing:border-box;content:var(--tmLabel, ' ');padding-inline-start:var(--ec-tm-lineDiffIndMargLeft);text-align:center;white-space:pre}.expressive-code .ec-line.mark.tm-label .code::before,.expressive-code .ec-line.ins.tm-label .code::before,.expressive-code .ec-line.del.tm-label .code::before{background:var(--ecLineBrdCol);padding:0 calc(var(--ec-tm-lineMarkerLabelPadInl) + var(--ec-tm-lineMarkerAccentWd)) 0 var(--ec-tm-lineMarkerLabelPadInl);color:var(--ec-tm-lineMarkerLabelCol)}.expressive-code .ec-line mark{--tmInlineBgCol:var(--ec-tm-markBg);--tmInlineBrdCol:var(--ec-tm-markBrdCol)}.expressive-code .ec-line ins{--tmInlineBgCol:var(--ec-tm-insBg);--tmInlineBrdCol:var(--ec-tm-insBrdCol)}.expressive-code .ec-line del{--tmInlineBgCol:var(--ec-tm-delBg);--tmInlineBrdCol:var(--ec-tm-delBrdCol)}.expressive-code .ec-line mark,.expressive-code .ec-line ins,.expressive-code .ec-line del{all:unset;display:inline-block;position:relative;--tmBrdL:var(--ec-tm-inlMarkerBrdWd);--tmBrdR:var(--ec-tm-inlMarkerBrdWd);--tmRadL:var(--ec-tm-inlMarkerBrdRad);--tmRadR:var(--ec-tm-inlMarkerBrdRad);margin-inline:0.025rem;padding-inline:var(--ec-tm-inlMarkerPad);border-radius:var(--tmRadL) var(--tmRadR) var(--tmRadR) var(--tmRadL);background:var(--tmInlineBgCol);background-clip:padding-box}.expressive-code .ec-line mark.open-start,.expressive-code .ec-line ins.open-start,.expressive-code .ec-line del.open-start{margin-inline-start:0;padding-inline-start:0;--tmBrdL:0px;--tmRadL:0}.expressive-code .ec-line mark.open-end,.expressive-code .ec-line ins.open-end,.expressive-code .ec-line del.open-end{margin-inline-end:0;padding-inline-end:0;--tmBrdR:0px;--tmRadR:0}.expressive-code .ec-line mark::before,.expressive-code .ec-line ins::before,.expressive-code .ec-line del::before{content:'';position:absolute;pointer-events:none;display:inline-block;inset:0;border-radius:var(--tmRadL) var(--tmRadR) var(--tmRadR) var(--tmRadL);border:var(--ec-tm-inlMarkerBrdWd) solid var(--tmInlineBrdCol);border-inline-width:var(--tmBrdL) var(--tmBrdR)}.expressive-code .frame{all:unset;position:relative;display:block;--header-border-radius:calc(var(--ec-brdRad) + var(--ec-brdWd));--tab-border-radius:calc(var(--ec-frm-edTabBrdRad) + var(--ec-brdWd));--button-spacing:0.4rem;--code-background:var(--ec-frm-edBg);border-radius:var(--header-border-radius);box-shadow:var(--ec-frm-frameBoxShdCssVal)}.expressive-code .frame .header{display:none;z-index:1;position:relative;border-radius:var(--header-border-radius) var(--header-border-radius) 0 0}.expressive-code .frame.has-title pre,.expressive-code .frame.has-title code,.expressive-code .frame.is-terminal pre,.expressive-code .frame.is-terminal code{border-top:none;border-top-left-radius:0;border-top-right-radius:0}.expressive-code .frame .title:empty:before{content:'\a0'}.expressive-code .frame.has-title:not(.is-terminal){--button-spacing:calc(1.9rem + 2 * (var(--ec-uiPadBlk) + var(--ec-frm-edActTabIndHt)))}.expressive-code .frame.has-title:not(.is-terminal) .title{position:relative;color:var(--ec-frm-edActTabFg);background:var(--ec-frm-edActTabBg);background-clip:padding-box;margin-block-start:var(--ec-frm-edTabsMargBlkStart);padding:calc(var(--ec-uiPadBlk) + var(--ec-frm-edActTabIndHt)) var(--ec-uiPadInl);border:var(--ec-brdWd) solid var(--ec-frm-edActTabBrdCol);border-radius:var(--tab-border-radius) var(--tab-border-radius) 0 0;border-bottom:none;overflow:hidden}.expressive-code .frame.has-title:not(.is-terminal) .title::after{content:'';position:absolute;pointer-events:none;inset:0;border-top:var(--ec-frm-edActTabIndHt) solid var(--ec-frm-edActTabIndTopCol);border-bottom:var(--ec-frm-edActTabIndHt) solid var(--ec-frm-edActTabIndBtmCol)}.expressive-code .frame.has-title:not(.is-terminal) .header{display:flex;background:linear-gradient(to top, var(--ec-frm-edTabBarBrdBtmCol) var(--ec-brdWd), transparent var(--ec-brdWd)),linear-gradient(var(--ec-frm-edTabBarBg), var(--ec-frm-edTabBarBg));background-repeat:no-repeat;padding-inline-start:var(--ec-frm-edTabsMargInlStart)}.expressive-code .frame.has-title:not(.is-terminal) .header::before{content:'';position:absolute;pointer-events:none;inset:0;border:var(--ec-brdWd) solid var(--ec-frm-edTabBarBrdCol);border-radius:inherit;border-bottom:none}.expressive-code .frame.is-terminal{--button-spacing:calc(1.9rem + var(--ec-brdWd) + 2 * var(--ec-uiPadBlk));--code-background:var(--ec-frm-trmBg)}.expressive-code .frame.is-terminal .header{display:flex;align-items:center;justify-content:center;padding-block:var(--ec-uiPadBlk);padding-block-end:calc(var(--ec-uiPadBlk) + var(--ec-brdWd));position:relative;font-weight:500;letter-spacing:0.025ch;color:var(--ec-frm-trmTtbFg);background:var(--ec-frm-trmTtbBg);border:var(--ec-brdWd) solid var(--ec-brdCol);border-bottom:none}.expressive-code .frame.is-terminal .header::before{content:'';position:absolute;pointer-events:none;left:var(--ec-uiPadInl);width:2.1rem;height:0.56rem;line-height:0;background-color:var(--ec-frm-trmTtbDotsFg);opacity:var(--ec-frm-trmTtbDotsOpa);-webkit-mask-image:var(--ec-frm-trmIcon);-webkit-mask-repeat:no-repeat;mask-image:var(--ec-frm-trmIcon);mask-repeat:no-repeat}.expressive-code .frame.is-terminal .header::after{content:'';position:absolute;pointer-events:none;inset:0;border-bottom:var(--ec-brdWd) solid var(--ec-frm-trmTtbBrdBtmCol)}.expressive-code .frame pre{background:var(--code-background)}.expressive-code .copy{display:flex;gap:0.25rem;flex-direction:row;position:absolute;inset-block-start:calc(var(--ec-brdWd) + var(--button-spacing));inset-inline-end:calc(var(--ec-brdWd) + var(--ec-uiPadInl) / 2)}@media (scripting: none){.expressive-code .copy{display:none}}.expressive-code .copy{direction:ltr;unicode-bidi:isolate}.expressive-code .copy button{position:relative;align-self:flex-end;margin:0;padding:0;border:none;border-radius:0.2rem;z-index:1;cursor:pointer;transition-property:opacity, background, border-color;transition-duration:0.2s;transition-timing-function:cubic-bezier(0.25, 0.46, 0.45, 0.94);width:2.5rem;height:2.5rem;background:var(--code-background);opacity:0.75}.expressive-code .copy button div{position:absolute;inset:0;border-radius:inherit;background:var(--ec-frm-inlBtnBg);opacity:var(--ec-frm-inlBtnBgIdleOpa);transition-property:inherit;transition-duration:inherit;transition-timing-function:inherit}.expressive-code .copy button::before{content:'';position:absolute;pointer-events:none;inset:0;border-radius:inherit;border:var(--ec-brdWd) solid var(--ec-frm-inlBtnBrd);opacity:var(--ec-frm-inlBtnBrdOpa)}.expressive-code .copy button::after{content:'';position:absolute;pointer-events:none;inset:0;background-color:var(--ec-frm-inlBtnFg);-webkit-mask-image:var(--ec-frm-copyIcon);-webkit-mask-repeat:no-repeat;mask-image:var(--ec-frm-copyIcon);mask-repeat:no-repeat;margin:0.475rem;line-height:0}.expressive-code .copy button:hover,.expressive-code .copy button:focus:focus-visible{opacity:1}.expressive-code .copy button:hover div,.expressive-code .copy button:focus:focus-visible div{opacity:var(--ec-frm-inlBtnBgHoverOrFocusOpa)}.expressive-code .copy button:active{opacity:1}.expressive-code .copy button:active div{opacity:var(--ec-frm-inlBtnBgActOpa)}.expressive-code .copy .feedback{--tooltip-arrow-size:0.35rem;--tooltip-bg:var(--ec-frm-tooltipSuccessBg);color:var(--ec-frm-tooltipSuccessFg);pointer-events:none;user-select:none;-webkit-user-select:none;position:relative;align-self:center;background-color:var(--tooltip-bg);z-index:99;padding:0.125rem 0.75rem;border-radius:0.2rem;margin-inline-end:var(--tooltip-arrow-size);opacity:0;transition-property:opacity, transform;transition-duration:0.2s;transition-timing-function:ease-in-out;transform:translate3d(0, 0.25rem, 0)}.expressive-code .copy .feedback::after{content:'';position:absolute;pointer-events:none;top:calc(50% - var(--tooltip-arrow-size));inset-inline-end:calc(-2 * (var(--tooltip-arrow-size) - 0.5px));border:var(--tooltip-arrow-size) solid transparent;border-inline-start-color:var(--tooltip-bg)}.expressive-code .copy .feedback.show{opacity:1;transform:translate3d(0, 0, 0)}@media (hover: hover){.expressive-code{}.expressive-code .copy button{opacity:0;width:2rem;height:2rem}.expressive-code .frame:hover .copy button:not(:hover),.expressive-code .frame:focus-within :focus-visible ~ .copy button:not(:hover),.expressive-code .frame .copy .feedback.show ~ button:not(:hover){opacity:0.75}}.expressive-code :nth-child(1 of .ec-line) .code{padding-inline-end:calc(2rem + var(--ec-codePadInl))}.expressive-code .gutter .ln{display:inline-flex;justify-content:flex-end;align-items:flex-start;box-sizing:content-box;min-width:var(--lnWidth, 2ch);padding-inline:2ch;color:var(--ec-lineNumbers-fg)}.highlight .expressive-code .gutter .ln{color:var(--ec-lineNumbers-hlFg)}:root .main-pane{z-index:1}.expressive-code:hover .twoslash-hover:not(.twoslash-hover:hover){border-color:rgba(from var(--ec-twoSlash-hoverUnderlineCol) r g b / 0.4)}@media (min-width: 500px){.expressive-code .twoslash-popup-container:before{content:"";position:absolute;top:-5px;left:3px;border-top:1px solid var(--ec-twoSlash-brdCol);border-right:1px solid var(--ec-twoSlash-brdCol);background:var(--ec-twoSlash-bg);transform:rotate(-45deg);width:8px;height:8px;pointer-events:none;display:inline-block}}.expressive-code .twoslash-popup-container{position:absolute;z-index:999 !important;background:var(--ec-twoSlash-bg);border:1px solid var(--ec-twoSlash-brdCol);border-radius:4px;font-size:90%;white-space:nowrap !important;word-break:normal !important;overflow-wrap:normal !important;width:max-content !important;margin-top:0.5rem;color:var(--ec-twoSlash-textCol)}.expressive-code .twoslash-popup-container a:link{color:var(--ec-twoSlash-linkCol)}.expressive-code .twoslash-popup-container a:hover{color:var(--ec-twoSlash-linkColHover)}.expressive-code .twoslash-popup-container a:visited{color:var(--ec-twoSlash-linkColVisited)}.expressive-code .twoslash-popup-container a:active{color:var(--ec-twoSlash-linkColAct)}.expressive-code .twoslash-static-container{display:block;z-index:10;background:var(--ec-twoSlash-bg);border:1px solid var(--ec-twoSlash-brdCol);border-radius:4px;font-size:90%;white-space:nowrap !important;word-break:normal !important;overflow-wrap:normal !important;width:max-content !important}.expressive-code .twoslash-static-container a:link{color:var(--ec-twoSlash-linkCol)}.expressive-code .twoslash-static-container a:hover{color:var(--ec-twoSlash-linkColHover)}.expressive-code .twoslash-static-container a:visited{color:var(--ec-twoSlash-linkColVisited)}.expressive-code .twoslash-static-container a:active{color:var(--ec-twoSlash-linkColAct)}.expressive-code .twoslash-static-container:before{content:"";position:absolute;top:-4px;left:2px;border-top:1px solid var(--ec-twoSlash-brdCol);border-right:1px solid var(--ec-twoSlash-brdCol);background:var(--ec-twoSlash-bg);transform:rotate(-45deg);width:10px;height:10px;pointer-events:none;display:inline-block}.expressive-code .twoslash-static-container *{white-space:wrap !important;word-break:normal !important;overflow-wrap:normal !important}.expressive-code .twoslash,.expressive-code .twoslash-noline{position:relative}@media (prefers-reduced-motion: reduce){.expressive-code .twoslash *,.expressive-code .twoslash-noline *{transition:none !important}}.expressive-code .twoslash .twoslash-hover{position:relative;border-bottom:1px dashed transparent;transition-timing-function:ease;transition:border-color 0.3s}.expressive-code .twoslash:hover .twoslash-hover{border-color:var(--ec-twoSlash-hoverUnderlineCol)}.expressive-code .twoslash-popup-code{display:block;width:100%;max-width:600px;padding:6px 12px;font-size:var(--ec-codeFontSize);font-weight:400;line-height:var(--ec-codeLineHt);white-space:pre-wrap}.expressive-code .twoslash-popup-code,.expressive-code .twoslash-popup-code span{white-space:preserve !important}.expressive-code .twoslash-popup-code-type{font-family:var(--ec-codeFontFml);font-weight:600}.expressive-code .twoslash-popup-code-type .frame pre{display:contents !important}.expressive-code .twoslash-popup-code-type .frame .ec-line{display:unset !important}.expressive-code .twoslash-popup-code-type .frame .ec-line .code{padding-inline-start:0 !important;border-inline-start:none !important}.expressive-code .twoslash-popup-code-type .frame pre > code{padding:0 !important}.expressive-code .twoslash-popup-code-type .frame{box-shadow:none !important}.expressive-code .twoslash-popup-docs .frame{box-shadow:none !important}.expressive-code .twoslash-popup-code-type .frame .header::before{border:none !important}.expressive-code .twoslash-popup-code::-webkit-scrollbar,.expressive-code .twoslash-popup-code::-webkit-scrollbar-track,.expressive-code .twoslash-popup-docs::-webkit-scrollbar,.expressive-code .twoslash-popup-docs::-webkit-scrollbar-track{background-color:inherit;border-radius:calc(var(--ec-brdRad) + var(--ec-brdWd));border-top-left-radius:0;border-top-right-radius:0}.expressive-code .twoslash-popup-code::-webkit-scrollbar-thumb,.expressive-code .twoslash-popup-docs::-webkit-scrollbar-thumb{background-color:var(--ec-sbThumbCol);border:4px solid transparent;background-clip:content-box;border-radius:10px}.expressive-code .twoslash-popup-code::-webkit-scrollbar-thumb:hover,.expressive-code .twoslash-popup-docs::-webkit-scrollbar-thumb:hover{background-color:var(--ec-sbThumbHoverCol)}.expressive-code .twoslash-popup-code::-webkit-scrollbar-corner,.expressive-code .twoslash-popup-docs::-webkit-scrollbar-corner{background:transparent;width:0;height:0}.expressive-code .twoslash-popup-code,.expressive-code .twoslash-popup-docs{max-height:var(--ec-twoSlash-popupDocsMaxHt) !important;overflow:auto !important}.expressive-code .twoslash-popup-docs{max-width:600px;padding-left:12px;padding-right:12px;padding-top:6px;padding-bottom:6px;border-top:1px solid var(--ec-twoSlash-brdCol);font-size:var(--ec-codeFontSize);font-weight:400;line-height:var(--ec-codeLineHt);text-wrap:balance}.expressive-code .twoslash-popup-docs code{font-family:var(--ec-codeFontFml);font-weight:var(--ec-codeFontWg)}.expressive-code .twoslash-popup-docs-tagline{display:flex;text-wrap-style:stable}.expressive-code .twoslash-popup-docs-tag-name{color:var(--ec-twoSlash-tagCol);font-style:italic;--shiki-dark-font-style:italic;font-weight:500;margin-right:0.25rem}.expressive-code .twoslash-popup-docs-tag-value{margin-left:0.25rem}.expressive-code .twoslash-popup-docs pre{width:100%;background-color:var(--ec-frm-edBg) !important;padding:.15rem;border-radius:4px !important;position:relative !important;font-family:var(--ec-codeFontFml);display:inline-block !important;line-height:var(--ec-codeLineHt);border:var(--ec-brdWd) solid var(--ec-twoSlash-brdCol) !important}.expressive-code .twoslash-popup-docs.twoslash-popup-docs-tags{font-size:14px !important;margin:0 !important;padding-top:0 !important;padding-bottom:0 !important;padding-left:12px !important;padding-right:12px !important}.expressive-code .twoslash-popup-docs > pre > code{border:none !important;outline:none !important;width:100% !important;padding:0.15rem !important}.expressive-code .twoslash-popup-docs code{background-color:var(--ec-frm-edBg) !important;padding:.125rem !important;border-radius:4px !important;position:relative !important;display:inline-block !important;line-height:var(--ec-codeLineHt)}.expressive-code .twoslash-popup-docs-tag-value code,.expressive-code .twoslash-popup-docs > p > code,.expressive-code .twoslash-popup-docs > p > a > code,.expressive-code .twoslash-popup-docs > ul > li > code{border:1px solid var(--ec-twoSlash-brdCol);border-radius:4px}.expressive-code .twoslash-popup-docs code span::after{content:none !important}.expressive-code .twoslash .twoslash-completion{position:relative;margin-top:0.1rem}.expressive-code .twoslash-completion-container{display:flex;flex-direction:column;z-index:10;background:var(--ec-twoSlash-completionBoxBg);border:1px solid var(--ec-twoSlash-completionBoxBrd);border-radius:4px;font-size:90%;white-space:nowrap !important;word-break:normal !important;overflow-wrap:normal !important;width:max-content !important;padding:0.15rem;padding-left:0.25rem;padding-right:0.25rem}.expressive-code .twoslash-cursor{content:" ";width:3px;height:18px;background-color:var(--ec-twoSlash-cursorCol);display:inline-block;margin-left:1px;animation:cursor-blink 1.5s steps(2) infinite;align-self:center}@keyframes cursor-blink{0%{opacity:0}}.expressive-code .twoslash-completion-container *{white-space:wrap !important;word-break:normal !important;overflow-wrap:normal !important}.expressive-code .twoslash-completion-item{overflow:hidden;display:flex;align-items:center;gap:0.25em}.expressive-code .twoslash-completion-item:hover{background:var(--ec-twoSlash-completionBoxHoverBg)}.expressive-code .twoslash-completion-item-separator{border-top:1px solid var(--ec-twoSlash-completionBoxBrd)}.expressive-code .twoslash-completion-item-deprecated{text-decoration:line-through;opacity:0.5}.expressive-code .twoslash-completion-name{font-weight:400}.expressive-code .twoslash-completion-name-unmatched{color:var(--ec-twoSlash-completionBoxCol)}.expressive-code .twoslash-completion-name-matched{color:var(--ec-twoSlash-completionBoxMatchedCol);font-weight:600}.expressive-code .twoslash-completion-icon{color:var(--ec-twoSlash-completionBoxCol);margin-right:0.2rem;width:1em;flex:none}.expressive-code .twoslash-completion-icon.class{color:var(--ec-twoSlash-completionIconClass)}.expressive-code .twoslash-completion-icon.constructor{color:var(--ec-twoSlash-completionIconConstructor)}.expressive-code .twoslash-completion-icon.function{color:var(--ec-twoSlash-completionIconFunction)}.expressive-code .twoslash-completion-icon.interface{color:var(--ec-twoSlash-completionIconInterface)}.expressive-code .twoslash-completion-icon.module{color:var(--ec-twoSlash-completionIconModule)}.expressive-code .twoslash-completion-icon.method{color:var(--ec-twoSlash-completionIconMethod)}.expressive-code .twoslash-completion-icon.property{color:var(--ec-twoSlash-completionIconProperty)}.expressive-code .twoslash-completion-icon.string{color:var(--ec-twoSlash-completionIconString)}.expressive-code .twoslash-noline .twoslash-static{position:relative}.expressive-code .twoslash.twoerror{display:flex}.expressive-code .twoslash-error-underline{text-decoration-line:spelling-error;position:relative}.expressive-code .twoslash-error-box{display:flex;z-index:10;padding:0.1rem 0.3rem;border-radius:0.2rem;font-style:italic;border:1px solid var(--ec-twoSlash-brdCol);border-radius:4px;font-size:90%;white-space:nowrap !important;word-break:normal !important;overflow-wrap:normal !important;flex:0 1 100%}.expressive-code .twoslash-error-box .twoslash-error-box-icon,.expressive-code .twoslash-error-box .twoslash-error-box-content{display:inline-block;vertical-align:middle}.expressive-code .twoslash-error-box-content{flex:0 1 100%}.expressive-code .twoslash-error-box-content-message{white-space:normal}.expressive-code .twoslash-error-level-error{color:var(--ec-twoSlash-errorCol) !important;border-color:rgba(from var(--ec-twoSlash-errorCol) r g b / 0.25) !important;background:rgba(from var(--ec-twoSlash-errorCol) r g b / 0.1) !important}.expressive-code .twoslash-error-level-warning{color:var(--ec-twoSlash-warnCol) !important;border-color:rgba(from var(--ec-twoSlash-warnCol) r g b / 0.25) !important;background:rgba(from var(--ec-twoSlash-warnCol) r g b / 0.1) !important}.expressive-code .twoslash-error-level-suggestion{color:var(--ec-twoSlash-suggestionCol) !important;border-color:rgba(from var(--ec-twoSlash-suggestionCol) r g b / 0.25) !important;background:rgba(from var(--ec-twoSlash-suggestionCol) r g b / 0.1) !important}.expressive-code .twoslash-error-level-message{color:var(--ec-twoSlash-messageCol) !important;border-color:rgba(from var(--ec-twoSlash-messageCol) r g b / 0.25) !important;background:rgba(from var(--ec-twoSlash-messageCol) r g b / 0.1) !important}.expressive-code .twoslash-highlighted{background-color:var(--ec-twoSlash-hlBg);border:1px solid var(--ec-twoSlash-hlBrdCol);padding:1px 2px;margin:-1px -3px;border-radius:4px}.expressive-code .twoslash-custom-box{margin-left:0rem;margin-right:0rem;padding-left:0.5rem;padding-right:0.5rem;display:block;z-index:10;padding:0.1rem 0.3rem;border-radius:0.2rem;font-style:italic;border:1px solid var(--ec-twoSlash-brdCol);border-radius:4px;font-size:90%;white-space:nowrap !important;word-break:normal !important;overflow-wrap:normal !important;width:100% !important}.expressive-code .twoslash-custom-box .twoslash-custom-box-icon,.expressive-code .twoslash-custom-box .twoslash-custom-box-content{display:inline-block;vertical-align:middle}.expressive-code .twoslash-custom-box .twoslash-custom-box-icon{margin-right:0.5rem;height:1rem;width:1rem}.expressive-code .twoslash-custom-level-error{color:var(--ec-twoSlash-errorCol) !important;border-color:rgba(from var(--ec-twoSlash-errorCol) r g b / 0.25) !important;background:rgba(from var(--ec-twoSlash-errorCol) r g b / 0.1) !important}.expressive-code .twoslash-custom-level-warning{color:var(--ec-twoSlash-warnCol) !important;border-color:rgba(from var(--ec-twoSlash-warnCol) r g b / 0.25) !important;background:rgba(from var(--ec-twoSlash-warnCol) r g b / 0.1) !important}.expressive-code .twoslash-custom-level-suggestion{color:var(--ec-twoSlash-suggestionCol) !important;border-color:rgba(from var(--ec-twoSlash-suggestionCol) r g b / 0.25) !important;background:rgba(from var(--ec-twoSlash-suggestionCol) r g b / 0.1) !important}.expressive-code .twoslash-custom-level-message{color:var(--ec-twoSlash-messageCol) !important;border-color:rgba(from var(--ec-twoSlash-messageCol) r g b / 0.25) !important;background:rgba(from var(--ec-twoSlash-messageCol) r g b / 0.1) !important}.expressive-code .ec-section{position:relative}.expressive-code .ec-section summary{position:relative;font-family:var(--ec-cs-closedFontFml);font-size:var(--ec-cs-closedFontSize);line-height:var(--ec-cs-closedLineHt);user-select:none;-webkit-user-select:none;cursor:pointer;color:var(--ec-cs-closedTextCol);background-color:var(--ec-cs-closedBgCol);--border-color:var(--ec-cs-closedBrdCol);--border-width:var(--ec-cs-closedBrdWd);box-shadow:inset 0 calc(-1 * var(--border-width)) var(--border-color), inset 0 var(--border-width) var(--border-color);margin:var(--ec-cs-closedMarg);padding:0}.expressive-code .ec-section summary::marker{display:inline-block;content:"";width:16px;height:16px}.expressive-code .ec-section summary::-webkit-details-marker{display:none}.expressive-code .ec-section summary :is(.expand, .collapse){position:relative;display:inline-block;width:16px;height:16px;vertical-align:text-bottom;opacity:0.75}.expressive-code .ec-section summary :is(.expand, .collapse)::after{content:'';position:absolute;pointer-events:none;inset:0;background-color:var(--ec-cs-closedTextCol);-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;line-height:0}.expressive-code .ec-section summary .expand::after{-webkit-mask-image:var(--ec-cs-expandIcon);mask-image:var(--ec-cs-expandIcon);-webkit-print-color-adjust:exact;print-color-adjust:exact}.expressive-code .ec-section summary .collapse{display:none}.expressive-code .ec-section summary .collapse::after{-webkit-mask-image:var(--ec-cs-collapseIcon);mask-image:var(--ec-cs-collapseIcon)}.expressive-code .ec-section summary .text{margin-left:1em}.expressive-code .ec-section summary .ec-line .code{padding-block:var(--ec-cs-closedPadBlk);text-indent:0}.expressive-code .ec-section[open],.expressive-code .ec-section details[open] + .content-lines{--border-color:var(--ec-cs-openBrdCol);--border-width:var(--ec-cs-openBrdWd);box-shadow:inset 0 calc(-1 * var(--border-width)) var(--border-color), inset 0 var(--border-width) var(--border-color);padding-inline:var(--ec-cs-openPad);margin-inline:var(--ec-cs-openMarg)}.expressive-code .ec-section.github[open] summary{display:none}.expressive-code .ec-section.github[open]{background-color:var(--ec-cs-openBgCol)}.expressive-code .ec-section:is(.collapsible-start, .collapsible-end){display:flex;flex-direction:column}.expressive-code .ec-section:is(.collapsible-start, .collapsible-end) .content-lines{display:none}.expressive-code .ec-section:is(.collapsible-start, .collapsible-end) details[open] .collapse{display:inline-block}.expressive-code .ec-section:is(.collapsible-start, .collapsible-end) details[open] :is(.expand, .text){display:none}.expressive-code .ec-section:is(.collapsible-start, .collapsible-end) details[open] + .content-lines{display:block;background-color:var(--ec-cs-openBgColCollapsible)}@media print{.expressive-code .ec-section:is(.collapsible-start, .collapsible-end) details[open]{display:none}}.expressive-code .ec-section.collapsible-end{flex-direction:column-reverse}:root,:root:not([data-theme='github-dark']) .expressive-code[data-theme='github-dark']{--ec-brdRad:0.3rem;--ec-brdWd:1.5px;--ec-brdCol:#1b1f23;--ec-codeFontFml:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace;--ec-codeFontSize:0.85rem;--ec-codeFontWg:400;--ec-codeLineHt:1.65;--ec-codePadBlk:1rem;--ec-codePadInl:1.35rem;--ec-codeBg:#24292e;--ec-codeFg:#e1e4e8;--ec-codeSelBg:#3392ff44;--ec-gtrFg:#727980;--ec-gtrBrdCol:#72798033;--ec-gtrBrdWd:1.5px;--ec-gtrHlFg:#e1e4e896;--ec-uiFontFml:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol','Noto Color Emoji';--ec-uiFontSize:0.9rem;--ec-uiFontWg:400;--ec-uiLineHt:1.65;--ec-uiPadBlk:0.25rem;--ec-uiPadInl:1rem;--ec-uiSelBg:#39414a;--ec-uiSelFg:#e1e4e8;--ec-focusBrd:#005cc5;--ec-sbThumbCol:#6a737d33;--ec-sbThumbHoverCol:#6a737dd1;--ec-tm-lineMarkerAccentMarg:0rem;--ec-tm-lineMarkerAccentWd:0.15rem;--ec-tm-lineMarkerLabelPadInl:0.2rem;--ec-tm-lineMarkerLabelCol:white;--ec-tm-lineDiffIndMargLeft:0.3rem;--ec-tm-inlMarkerBrdWd:1.5px;--ec-tm-inlMarkerBrdRad:0.2rem;--ec-tm-inlMarkerPad:0.15rem;--ec-tm-insDiffIndContent:'+';--ec-tm-delDiffIndContent:'-';--ec-tm-markBg:#264a8980;--ec-tm-markBrdCol:#5570b3d0;--ec-tm-insBg:#26561c80;--ec-tm-insBrdCol:#4e7e41d0;--ec-tm-insDiffIndCol:#7eb070d0;--ec-tm-delBg:#81322b80;--ec-tm-delBrdCol:#ae594fd0;--ec-tm-delDiffIndCol:#e68a7ed0;--ec-frm-shdCol:#0000005b;--ec-frm-frameBoxShdCssVal:0.1rem 0.1rem 0.2rem #0000005b;--ec-frm-edActTabBg:#24292e;--ec-frm-edActTabFg:#e1e4e8;--ec-frm-edActTabBrdCol:transparent;--ec-frm-edActTabIndHt:1.5px;--ec-frm-edActTabIndTopCol:#f9826c;--ec-frm-edActTabIndBtmCol:#24292e;--ec-frm-edTabsMargInlStart:0;--ec-frm-edTabsMargBlkStart:0;--ec-frm-edTabBrdRad:0.3rem;--ec-frm-edTabBarBg:#1f2428;--ec-frm-edTabBarBrdCol:#1b1f23;--ec-frm-edTabBarBrdBtmCol:#1b1f23;--ec-frm-edBg:#24292e;--ec-frm-trmTtbFg:#e1e4e8;--ec-frm-trmTtbDotsFg:#e1e4e8;--ec-frm-trmTtbDotsOpa:0.15;--ec-frm-trmTtbBg:#24292e;--ec-frm-trmTtbBrdBtmCol:#1b1f23;--ec-frm-trmBg:#1f2428;--ec-frm-inlBtnFg:#e1e4e8;--ec-frm-inlBtnBg:#e1e4e8;--ec-frm-inlBtnBgIdleOpa:0;--ec-frm-inlBtnBgHoverOrFocusOpa:0.2;--ec-frm-inlBtnBgActOpa:0.3;--ec-frm-inlBtnBrd:#e1e4e8;--ec-frm-inlBtnBrdOpa:0.4;--ec-frm-tooltipSuccessBg:#228739;--ec-frm-tooltipSuccessFg:white;--ec-frm-copyIcon:url("data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%2024%2024'%20fill%3D'none'%20stroke%3D'black'%20stroke-width%3D'1.75'%3E%3Cpath%20d%3D'M3%2019a2%202%200%200%201-1-2V2a2%202%200%200%201%201-1h13a2%202%200%200%201%202%201'%2F%3E%3Crect%20x%3D'6'%20y%3D'5'%20width%3D'16'%20height%3D'18'%20rx%3D'1.5'%20ry%3D'1.5'%2F%3E%3C%2Fsvg%3E");--ec-frm-trmIcon:url("data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%2060%2016'%20preserveAspectRatio%3D'xMidYMid%20meet'%3E%3Ccircle%20cx%3D'8'%20cy%3D'8'%20r%3D'8'%2F%3E%3Ccircle%20cx%3D'30'%20cy%3D'8'%20r%3D'8'%2F%3E%3Ccircle%20cx%3D'52'%20cy%3D'8'%20r%3D'8'%2F%3E%3C%2Fsvg%3E");--ec-lineNumbers-fg:inherit;--ec-lineNumbers-hlFg:inherit;--ec-twoSlash-brdCol:#1b1f23;--ec-twoSlash-bg:#24292e;--ec-twoSlash-hoverUnderlineCol:#e1e4e8;--ec-twoSlash-textCol:#e1e4e8;--ec-twoSlash-popupDocsMaxHt:200px;--ec-twoSlash-tagCol:#79b8ff;--ec-twoSlash-linkCol:#79b8ff;--ec-twoSlash-linkColVisited:#b392f0;--ec-twoSlash-linkColHover:#56d4dd;--ec-twoSlash-linkColAct:#85e89d;--ec-twoSlash-hlBg:#264a8980;--ec-twoSlash-hlBrdCol:#5570b3d0;--ec-twoSlash-errorCol:#ea4a5a;--ec-twoSlash-warnCol:#ffea7f;--ec-twoSlash-suggestionCol:#34d058;--ec-twoSlash-messageCol:#2188ff;--ec-twoSlash-cursorCol:#c8e1ff;--ec-twoSlash-completionBoxBg:#24292e;--ec-twoSlash-completionBoxBrd:#1b1f23;--ec-twoSlash-completionBoxCol:#e1e4e8;--ec-twoSlash-completionBoxMatchedCol:#ffd33d44;--ec-twoSlash-completionBoxHoverBg:#ffd33d22;--ec-twoSlash-completionIconClass:#EE9D28;--ec-twoSlash-completionIconConstructor:#b180d7;--ec-twoSlash-completionIconFunction:#b180d7;--ec-twoSlash-completionIconInterface:#75beff;--ec-twoSlash-completionIconModule:#cccccc;--ec-twoSlash-completionIconMethod:#b180d7;--ec-twoSlash-completionIconProperty:#cccccc;--ec-twoSlash-completionIconString:#cccccc;--ec-cs-closedBrdWd:0px;--ec-cs-closedPadBlk:4px;--ec-cs-closedMarg:0;--ec-cs-closedFontFml:inherit;--ec-cs-closedFontSize:inherit;--ec-cs-closedLineHt:inherit;--ec-cs-closedTextCol:#e1e4e8;--ec-cs-closedBgCol:#58606933;--ec-cs-closedBrdCol:#58606980;--ec-cs-openBrdWd:1px;--ec-cs-openPad:0;--ec-cs-openMarg:0;--ec-cs-openBgCol:transparent;--ec-cs-openBgColCollapsible:#5860691a;--ec-cs-openBrdCol:transparent;--ec-cs-expandIcon:url("data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%2016%2016'%3E%3Cpath%20d%3D'm8.177.677%202.896%202.896a.25.25%200%200%201-.177.427H8.75v1.25a.75.75%200%200%201-1.5%200V4H5.104a.25.25%200%200%201-.177-.427L7.823.677a.25.25%200%200%201%20.354%200ZM7.25%2010.75a.75.75%200%200%201%201.5%200V12h2.146a.25.25%200%200%201%20.177.427l-2.896%202.896a.25.25%200%200%201-.354%200l-2.896-2.896A.25.25%200%200%201%205.104%2012H7.25v-1.25Zm-5-2a.75.75%200%200%200%200-1.5h-.5a.75.75%200%200%200%200%201.5h.5ZM6%208a.75.75%200%200%201-.75.75h-.5a.75.75%200%200%201%200-1.5h.5A.75.75%200%200%201%206%208Zm2.25.75a.75.75%200%200%200%200-1.5h-.5a.75.75%200%200%200%200%201.5h.5ZM12%208a.75.75%200%200%201-.75.75h-.5a.75.75%200%200%201%200-1.5h.5A.75.75%200%200%201%2012%208Zm2.25.75a.75.75%200%200%200%200-1.5h-.5a.75.75%200%200%200%200%201.5h.5Z'%2F%3E%3C%2Fsvg%3E");--ec-cs-collapseIcon:url("data:image/svg+xml,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%2016%2016'%3E%3Cpath%20d%3D'M10.896%202H8.75V.75a.75.75%200%200%200-1.5%200V2H5.104a.25.25%200%200%200-.177.427l2.896%202.896a.25.25%200%200%200%20.354%200l2.896-2.896A.25.25%200%200%200%2010.896%202ZM8.75%2015.25a.75.75%200%200%201-1.5%200V14H5.104a.25.25%200%200%201-.177-.427l2.896-2.896a.25.25%200%200%201%20.354%200l2.896%202.896a.25.25%200%200%201-.177.427H8.75v1.25Zm-6.5-6.5a.75.75%200%200%200%200-1.5h-.5a.75.75%200%200%200%200%201.5h.5ZM6%208a.75.75%200%200%201-.75.75h-.5a.75.75%200%200%201%200-1.5h.5A.75.75%200%200%201%206%208Zm2.25.75a.75.75%200%200%200%200-1.5h-.5a.75.75%200%200%200%200%201.5h.5ZM12%208a.75.75%200%200%201-.75.75h-.5a.75.75%200%200%201%200-1.5h.5A.75.75%200%200%201%2012%208Zm2.25.75a.75.75%200%200%200%200-1.5h-.5a.75.75%200%200%200%200%201.5h.5Z'%2F%3E%3C%2Fsvg%3E")}.expressive-code .ec-line :where(span[style^='--']:not([class])),:root:not([data-theme='github-dark']) .expressive-code[data-theme='github-dark'] .ec-line :where(span[style^='--']:not([class])){color:var(--0, inherit);background-color:var(--0bg, transparent);font-style:var(--0fs, inherit);font-weight:var(--0fw, inherit);text-decoration:var(--0td, inherit)}@media (prefers-color-scheme: light){:root:not([data-theme='github-dark']){--ec-brdCol:#e1e4e8;--ec-codeBg:#fff;--ec-codeFg:#24292e;--ec-codeSelBg:#0366d625;--ec-gtrFg:#1b1f2381;--ec-gtrBrdCol:#1b1f2333;--ec-gtrHlFg:#24292eab;--ec-uiSelBg:#e2e5e9;--ec-uiSelFg:#2f363d;--ec-focusBrd:#2188ff;--ec-sbThumbCol:#959da533;--ec-sbThumbHoverCol:#959da5eb;--ec-tm-markBg:#9fb6ff80;--ec-tm-insBg:#94c68480;--ec-tm-insDiffIndCol:#3a692fd0;--ec-tm-delBg:#fea09280;--ec-tm-delDiffIndCol:#97453dd0;--ec-frm-shdCol:#00000028;--ec-frm-frameBoxShdCssVal:0.1rem 0.1rem 0.2rem #00000028;--ec-frm-edActTabBg:#fff;--ec-frm-edActTabFg:#2f363d;--ec-frm-edActTabIndBtmCol:#fff;--ec-frm-edTabBarBg:#f6f8fa;--ec-frm-edTabBarBrdCol:#e1e4e8;--ec-frm-edTabBarBrdBtmCol:#e1e4e8;--ec-frm-edBg:#fff;--ec-frm-trmTtbFg:#2f363d;--ec-frm-trmTtbDotsFg:#2f363d;--ec-frm-trmTtbBg:#fff;--ec-frm-trmTtbBrdBtmCol:#e1e4e8;--ec-frm-trmBg:#f6f8fa;--ec-frm-inlBtnFg:#24292e;--ec-frm-inlBtnBg:#24292e;--ec-frm-inlBtnBrd:#24292e;--ec-frm-tooltipSuccessBg:#208638;--ec-twoSlash-brdCol:#e1e4e8;--ec-twoSlash-bg:#fff;--ec-twoSlash-hoverUnderlineCol:#24292e;--ec-twoSlash-textCol:#24292e;--ec-twoSlash-tagCol:#005cc5;--ec-twoSlash-linkCol:#005cc5;--ec-twoSlash-linkColVisited:#5a32a3;--ec-twoSlash-linkColHover:#3192aa;--ec-twoSlash-linkColAct:#22863a;--ec-twoSlash-hlBg:#9fb6ff80;--ec-twoSlash-errorCol:#d73a49;--ec-twoSlash-warnCol:#dbab09;--ec-twoSlash-suggestionCol:#28a745;--ec-twoSlash-messageCol:#0366d6;--ec-twoSlash-cursorCol:#044289;--ec-twoSlash-completionBoxBg:#fff;--ec-twoSlash-completionBoxBrd:#e1e4e8;--ec-twoSlash-completionBoxCol:#24292e;--ec-twoSlash-completionBoxMatchedCol:#ffdf5d;--ec-twoSlash-completionBoxHoverBg:#ffdf5d66;--ec-cs-closedTextCol:#24292e;--ec-cs-closedBgCol:#d1d5da33;--ec-cs-closedBrdCol:#d1d5da80;--ec-cs-openBgColCollapsible:#d1d5da1a}:root:not([data-theme='github-dark']) .expressive-code .ec-line :where(span[style^='--']:not([class])){color:var(--1, inherit);background-color:var(--1bg, transparent);font-style:var(--1fs, inherit);font-weight:var(--1fw, inherit);text-decoration:var(--1td, inherit)}}:root[data-theme='github-light'] .expressive-code:not([data-theme='github-dark']),.expressive-code[data-theme='github-light']{--ec-brdCol:#e1e4e8;--ec-codeBg:#fff;--ec-codeFg:#24292e;--ec-codeSelBg:#0366d625;--ec-gtrFg:#1b1f2381;--ec-gtrBrdCol:#1b1f2333;--ec-gtrHlFg:#24292eab;--ec-uiSelBg:#e2e5e9;--ec-uiSelFg:#2f363d;--ec-focusBrd:#2188ff;--ec-sbThumbCol:#959da533;--ec-sbThumbHoverCol:#959da5eb;--ec-tm-markBg:#9fb6ff80;--ec-tm-insBg:#94c68480;--ec-tm-insDiffIndCol:#3a692fd0;--ec-tm-delBg:#fea09280;--ec-tm-delDiffIndCol:#97453dd0;--ec-frm-shdCol:#00000028;--ec-frm-frameBoxShdCssVal:0.1rem 0.1rem 0.2rem #00000028;--ec-frm-edActTabBg:#fff;--ec-frm-edActTabFg:#2f363d;--ec-frm-edActTabIndBtmCol:#fff;--ec-frm-edTabBarBg:#f6f8fa;--ec-frm-edTabBarBrdCol:#e1e4e8;--ec-frm-edTabBarBrdBtmCol:#e1e4e8;--ec-frm-edBg:#fff;--ec-frm-trmTtbFg:#2f363d;--ec-frm-trmTtbDotsFg:#2f363d;--ec-frm-trmTtbBg:#fff;--ec-frm-trmTtbBrdBtmCol:#e1e4e8;--ec-frm-trmBg:#f6f8fa;--ec-frm-inlBtnFg:#24292e;--ec-frm-inlBtnBg:#24292e;--ec-frm-inlBtnBrd:#24292e;--ec-frm-tooltipSuccessBg:#208638;--ec-twoSlash-brdCol:#e1e4e8;--ec-twoSlash-bg:#fff;--ec-twoSlash-hoverUnderlineCol:#24292e;--ec-twoSlash-textCol:#24292e;--ec-twoSlash-tagCol:#005cc5;--ec-twoSlash-linkCol:#005cc5;--ec-twoSlash-linkColVisited:#5a32a3;--ec-twoSlash-linkColHover:#3192aa;--ec-twoSlash-linkColAct:#22863a;--ec-twoSlash-hlBg:#9fb6ff80;--ec-twoSlash-errorCol:#d73a49;--ec-twoSlash-warnCol:#dbab09;--ec-twoSlash-suggestionCol:#28a745;--ec-twoSlash-messageCol:#0366d6;--ec-twoSlash-cursorCol:#044289;--ec-twoSlash-completionBoxBg:#fff;--ec-twoSlash-completionBoxBrd:#e1e4e8;--ec-twoSlash-completionBoxCol:#24292e;--ec-twoSlash-completionBoxMatchedCol:#ffdf5d;--ec-twoSlash-completionBoxHoverBg:#ffdf5d66;--ec-cs-closedTextCol:#24292e;--ec-cs-closedBgCol:#d1d5da33;--ec-cs-closedBrdCol:#d1d5da80;--ec-cs-openBgColCollapsible:#d1d5da1a}:root[data-theme='github-light'] .expressive-code:not([data-theme='github-dark']) .ec-line :where(span[style^='--']:not([class])),.expressive-code[data-theme='github-light'] .ec-line :where(span[style^='--']:not([class])){color:var(--1, inherit);background-color:var(--1bg, transparent);font-style:var(--1fs, inherit);font-weight:var(--1fw, inherit);text-decoration:var(--1td, inherit)}</style><script type="module">try{(()=>{function a(e){if(!e)return;let t=e.getAttribute("tabindex")!==null,r=e.scrollWidth>e.clientWidth;r&&!t?(e.setAttribute("tabindex","0"),e.setAttribute("role","region")):!r&&t&&(e.removeAttribute("tabindex"),e.removeAttribute("role"))}var u=window.requestIdleCallback||(e=>setTimeout(e,1)),s=window.cancelIdleCallback||clearTimeout;function l(e){let t=new Set,r,n;return new ResizeObserver(c=>{c.forEach(o=>t.add(o.target)),r&&clearTimeout(r),n&&s(n),r=setTimeout(()=>{n&&s(n),n=u(()=>{t.forEach(o=>e(o)),t.clear()})},250)})}function i(e,t){e.querySelectorAll?.(".expressive-code pre > code").forEach(r=>{let n=r.parentElement;n&&t.observe(n)})}var d=l(a);i(document,d);var b=new MutationObserver(e=>e.forEach(t=>t.addedNodes.forEach(r=>{i(r,d)})));b.observe(document.body,{childList:!0,subtree:!0});document.addEventListener("astro:page-load",()=>{i(document,d)});})();}catch(e){console.error("[EC] tabindex-js-module failed:",e)}</script><script type="module">try{(()=>{function i(o){let e=document.createElement("pre");Object.assign(e.style,{opacity:"0",pointerEvents:"none",position:"absolute",overflow:"hidden",left:"0",top:"0",width:"20px",height:"20px",webkitUserSelect:"auto",userSelect:"all"}),e.ariaHidden="true",e.textContent=o,document.body.appendChild(e);let a=document.createRange();a.selectNode(e);let n=getSelection();if(!n)return!1;n.removeAllRanges(),n.addRange(a);let r=!1;try{r=document.execCommand("copy")}finally{n.removeAllRanges(),document.body.removeChild(e)}return r}async function l(o){let e=o.currentTarget,a=e.dataset,n=!1,r=a.code.replace(/\u007f/g,`
`);try{await navigator.clipboard.writeText(r),n=!0}catch{n=i(r)}if(!n||e.parentNode?.querySelector(".feedback"))return;let t=document.createElement("div");t.classList.add("feedback"),t.append(a.copied),e.before(t),t.offsetWidth,requestAnimationFrame(()=>t?.classList.add("show"));let c=()=>!t||t.classList.remove("show"),d=()=>{!t||parseFloat(getComputedStyle(t).opacity)>0||(t.remove(),t=void 0)};setTimeout(c,1500),setTimeout(d,2500),e.addEventListener("blur",c),t.addEventListener("transitioncancel",d),t.addEventListener("transitionend",d)}function s(o){o.querySelectorAll?.(".expressive-code .copy button").forEach(e=>e.addEventListener("click",l))}s(document);var u=new MutationObserver(o=>o.forEach(e=>e.addedNodes.forEach(a=>{s(a)})));u.observe(document.body,{childList:!0,subtree:!0});document.addEventListener("astro:page-load",()=>{s(document)});})();}catch(e){console.error("[EC] copy-js-module failed:",e)}</script><script type="module">!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).FloatingUICore={})}(this,(function(t){"use strict";const e=["top","right","bottom","left"],n=["start","end"],i=e.reduce(((t,e)=>t.concat(e,e+"-"+n[0],e+"-"+n[1])),[]),o=Math.min,r=Math.max,a={left:"right",right:"left",bottom:"top",top:"bottom"},l={start:"end",end:"start"};function s(t,e,n){return r(t,o(e,n))}function f(t,e){return"function"==typeof t?t(e):t}function c(t){return t.split("-")[0]}function u(t){return t.split("-")[1]}function m(t){return"x"===t?"y":"x"}function d(t){return"y"===t?"height":"width"}function g(t){return["top","bottom"].includes(c(t))?"y":"x"}function p(t){return m(g(t))}function h(t,e,n){void 0===n&&(n=!1);const i=u(t),o=p(t),r=d(o);let a="x"===o?i===(n?"end":"start")?"right":"left":"start"===i?"bottom":"top";return e.reference[r]>e.floating[r]&&(a=w(a)),[a,w(a)]}function y(t){return t.replace(/start|end/g,(t=>l[t]))}function w(t){return t.replace(/left|right|bottom|top/g,(t=>a[t]))}function x(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function v(t){const{x:e,y:n,width:i,height:o}=t;return{width:i,height:o,top:n,left:e,right:e+i,bottom:n+o,x:e,y:n}}function b(t,e,n){let{reference:i,floating:o}=t;const r=g(e),a=p(e),l=d(a),s=c(e),f="y"===r,m=i.x+i.width/2-o.width/2,h=i.y+i.height/2-o.height/2,y=i[l]/2-o[l]/2;let w;switch(s){case"top":w={x:m,y:i.y-o.height};break;case"bottom":w={x:m,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y:h};break;case"left":w={x:i.x-o.width,y:h};break;default:w={x:i.x,y:i.y}}switch(u(e)){case"start":w[a]-=y*(n&&f?-1:1);break;case"end":w[a]+=y*(n&&f?-1:1)}return w}async function A(t,e){var n;void 0===e&&(e={});const{x:i,y:o,platform:r,rects:a,elements:l,strategy:s}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:d=!1,padding:g=0}=f(e,t),p=x(g),h=l[d?"floating"===m?"reference":"floating":m],y=v(await r.getClippingRect({element:null==(n=await(null==r.isElement?void 0:r.isElement(h)))||n?h:h.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(l.floating)),boundary:c,rootBoundary:u,strategy:s})),w="floating"===m?{x:i,y:o,width:a.floating.width,height:a.floating.height}:a.reference,b=await(null==r.getOffsetParent?void 0:r.getOffsetParent(l.floating)),A=await(null==r.isElement?void 0:r.isElement(b))&&await(null==r.getScale?void 0:r.getScale(b))||{x:1,y:1},R=v(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:w,offsetParent:b,strategy:s}):w);return{top:(y.top-R.top+p.top)/A.y,bottom:(R.bottom-y.bottom+p.bottom)/A.y,left:(y.left-R.left+p.left)/A.x,right:(R.right-y.right+p.right)/A.x}}function R(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function P(t){return e.some((e=>t[e]>=0))}function D(t){const e=o(...t.map((t=>t.left))),n=o(...t.map((t=>t.top)));return{x:e,y:n,width:r(...t.map((t=>t.right)))-e,height:r(...t.map((t=>t.bottom)))-n}}t.arrow=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:a,platform:l,elements:c,middlewareData:m}=e,{element:g,padding:h=0}=f(t,e)||{};if(null==g)return{};const y=x(h),w={x:n,y:i},v=p(r),b=d(v),A=await l.getDimensions(g),R="y"===v,P=R?"top":"left",D=R?"bottom":"right",T=R?"clientHeight":"clientWidth",O=a.reference[b]+a.reference[v]-w[v]-a.floating[b],E=w[v]-a.reference[v],L=await(null==l.getOffsetParent?void 0:l.getOffsetParent(g));let k=L?L[T]:0;k&&await(null==l.isElement?void 0:l.isElement(L))||(k=c.floating[T]||a.floating[b]);const C=O/2-E/2,B=k/2-A[b]/2-1,H=o(y[P],B),S=o(y[D],B),F=H,j=k-A[b]-S,z=k/2-A[b]/2+C,M=s(F,z,j),V=!m.arrow&&null!=u(r)&&z!==M&&a.reference[b]/2-(z<F?H:S)-A[b]/2<0,W=V?z<F?z-F:z-j:0;return{[v]:w[v]+W,data:{[v]:M,centerOffset:z-M-W,...V&&{alignmentOffset:W}},reset:V}}}),t.autoPlacement=function(t){return void 0===t&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,o,r;const{rects:a,middlewareData:l,placement:s,platform:m,elements:d}=e,{crossAxis:g=!1,alignment:p,allowedPlacements:w=i,autoAlignment:x=!0,...v}=f(t,e),b=void 0!==p||w===i?function(t,e,n){return(t?[...n.filter((e=>u(e)===t)),...n.filter((e=>u(e)!==t))]:n.filter((t=>c(t)===t))).filter((n=>!t||u(n)===t||!!e&&y(n)!==n))}(p||null,x,w):w,R=await A(e,v),P=(null==(n=l.autoPlacement)?void 0:n.index)||0,D=b[P];if(null==D)return{};const T=h(D,a,await(null==m.isRTL?void 0:m.isRTL(d.floating)));if(s!==D)return{reset:{placement:b[0]}};const O=[R[c(D)],R[T[0]],R[T[1]]],E=[...(null==(o=l.autoPlacement)?void 0:o.overflows)||[],{placement:D,overflows:O}],L=b[P+1];if(L)return{data:{index:P+1,overflows:E},reset:{placement:L}};const k=E.map((t=>{const e=u(t.placement);return[t.placement,e&&g?t.overflows.slice(0,2).reduce(((t,e)=>t+e),0):t.overflows[0],t.overflows]})).sort(((t,e)=>t[1]-e[1])),C=(null==(r=k.filter((t=>t[2].slice(0,u(t[0])?2:3).every((t=>t<=0))))[0])?void 0:r[0])||k[0][0];return C!==s?{data:{index:P+1,overflows:E},reset:{placement:C}}:{}}}},t.computePosition=async(t,e,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:r=[],platform:a}=n,l=r.filter(Boolean),s=await(null==a.isRTL?void 0:a.isRTL(e));let f=await a.getElementRects({reference:t,floating:e,strategy:o}),{x:c,y:u}=b(f,i,s),m=i,d={},g=0;for(let n=0;n<l.length;n++){const{name:r,fn:p}=l[n],{x:h,y:y,data:w,reset:x}=await p({x:c,y:u,initialPlacement:i,placement:m,strategy:o,middlewareData:d,rects:f,platform:a,elements:{reference:t,floating:e}});c=null!=h?h:c,u=null!=y?y:u,d={...d,[r]:{...d[r],...w}},x&&g<=50&&(g++,"object"==typeof x&&(x.placement&&(m=x.placement),x.rects&&(f=!0===x.rects?await a.getElementRects({reference:t,floating:e,strategy:o}):x.rects),({x:c,y:u}=b(f,m,s))),n=-1)}return{x:c,y:u,placement:m,strategy:o,middlewareData:d}},t.detectOverflow=A,t.flip=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:o,middlewareData:r,rects:a,initialPlacement:l,platform:s,elements:m}=e,{mainAxis:d=!0,crossAxis:p=!0,fallbackPlacements:x,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:R=!0,...P}=f(t,e);if(null!=(n=r.arrow)&&n.alignmentOffset)return{};const D=c(o),T=g(l),O=c(l)===l,E=await(null==s.isRTL?void 0:s.isRTL(m.floating)),L=x||(O||!R?[w(l)]:function(t){const e=w(t);return[y(t),e,y(e)]}(l)),k="none"!==b;!x&&k&&L.push(...function(t,e,n,i){const o=u(t);let r=function(t,e,n){const i=["left","right"],o=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:i:e?i:o;case"left":case"right":return e?r:a;default:return[]}}(c(t),"start"===n,i);return o&&(r=r.map((t=>t+"-"+o)),e&&(r=r.concat(r.map(y)))),r}(l,R,b,E));const C=[l,...L],B=await A(e,P),H=[];let S=(null==(i=r.flip)?void 0:i.overflows)||[];if(d&&H.push(B[D]),p){const t=h(o,a,E);H.push(B[t[0]],B[t[1]])}if(S=[...S,{placement:o,overflows:H}],!H.every((t=>t<=0))){var F,j;const t=((null==(F=r.flip)?void 0:F.index)||0)+1,e=C[t];if(e)return{data:{index:t,overflows:S},reset:{placement:e}};let n=null==(j=S.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:j.placement;if(!n)switch(v){case"bestFit":{var z;const t=null==(z=S.filter((t=>{if(k){const e=g(t.placement);return e===T||"y"===e}return!0})).map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:z[0];t&&(n=t);break}case"initialPlacement":n=l}if(o!==n)return{reset:{placement:n}}}return{}}}},t.hide=function(t){return void 0===t&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...o}=f(t,e);switch(i){case"referenceHidden":{const t=R(await A(e,{...o,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:t,referenceHidden:P(t)}}}case"escaped":{const t=R(await A(e,{...o,altBoundary:!0}),n.floating);return{data:{escapedOffsets:t,escaped:P(t)}}}default:return{}}}}},t.inline=function(t){return void 0===t&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:i,rects:a,platform:l,strategy:s}=e,{padding:u=2,x:m,y:d}=f(t,e),p=Array.from(await(null==l.getClientRects?void 0:l.getClientRects(i.reference))||[]),h=function(t){const e=t.slice().sort(((t,e)=>t.y-e.y)),n=[];let i=null;for(let t=0;t<e.length;t++){const o=e[t];!i||o.y-i.y>i.height/2?n.push([o]):n[n.length-1].push(o),i=o}return n.map((t=>v(D(t))))}(p),y=v(D(p)),w=x(u);const b=await l.getElementRects({reference:{getBoundingClientRect:function(){if(2===h.length&&h[0].left>h[1].right&&null!=m&&null!=d)return h.find((t=>m>t.left-w.left&&m<t.right+w.right&&d>t.top-w.top&&d<t.bottom+w.bottom))||y;if(h.length>=2){if("y"===g(n)){const t=h[0],e=h[h.length-1],i="top"===c(n),o=t.top,r=e.bottom,a=i?t.left:e.left,l=i?t.right:e.right;return{top:o,bottom:r,left:a,right:l,width:l-a,height:r-o,x:a,y:o}}const t="left"===c(n),e=r(...h.map((t=>t.right))),i=o(...h.map((t=>t.left))),a=h.filter((n=>t?n.left===i:n.right===e)),l=a[0].top,s=a[a.length-1].bottom;return{top:l,bottom:s,left:i,right:e,width:e-i,height:s-l,x:i,y:l}}return y}},floating:i.floating,strategy:s});return a.reference.x!==b.reference.x||a.reference.y!==b.reference.y||a.reference.width!==b.reference.width||a.reference.height!==b.reference.height?{reset:{rects:b}}:{}}}},t.limitShift=function(t){return void 0===t&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:o,rects:r,middlewareData:a}=e,{offset:l=0,mainAxis:s=!0,crossAxis:u=!0}=f(t,e),d={x:n,y:i},p=g(o),h=m(p);let y=d[h],w=d[p];const x=f(l,e),v="number"==typeof x?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(s){const t="y"===h?"height":"width",e=r.reference[h]-r.floating[t]+v.mainAxis,n=r.reference[h]+r.reference[t]-v.mainAxis;y<e?y=e:y>n&&(y=n)}if(u){var b,A;const t="y"===h?"width":"height",e=["top","left"].includes(c(o)),n=r.reference[p]-r.floating[t]+(e&&(null==(b=a.offset)?void 0:b[p])||0)+(e?0:v.crossAxis),i=r.reference[p]+r.reference[t]+(e?0:(null==(A=a.offset)?void 0:A[p])||0)-(e?v.crossAxis:0);w<n?w=n:w>i&&(w=i)}return{[h]:y,[p]:w}}}},t.offset=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:o,y:r,placement:a,middlewareData:l}=e,s=await async function(t,e){const{placement:n,platform:i,elements:o}=t,r=await(null==i.isRTL?void 0:i.isRTL(o.floating)),a=c(n),l=u(n),s="y"===g(n),m=["left","top"].includes(a)?-1:1,d=r&&s?-1:1,p=f(e,t);let{mainAxis:h,crossAxis:y,alignmentAxis:w}="number"==typeof p?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&"number"==typeof w&&(y="end"===l?-1*w:w),s?{x:y*d,y:h*m}:{x:h*m,y:y*d}}(e,t);return a===(null==(n=l.offset)?void 0:n.placement)&&null!=(i=l.arrow)&&i.alignmentOffset?{}:{x:o+s.x,y:r+s.y,data:{...s,placement:a}}}}},t.rectToClientRect=v,t.shift=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:o}=e,{mainAxis:r=!0,crossAxis:a=!1,limiter:l={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...u}=f(t,e),d={x:n,y:i},p=await A(e,u),h=g(c(o)),y=m(h);let w=d[y],x=d[h];if(r){const t="y"===y?"bottom":"right";w=s(w+p["y"===y?"top":"left"],w,w-p[t])}if(a){const t="y"===h?"bottom":"right";x=s(x+p["y"===h?"top":"left"],x,x-p[t])}const v=l.fn({...e,[y]:w,[h]:x});return{...v,data:{x:v.x-n,y:v.y-i,enabled:{[y]:r,[h]:a}}}}}},t.size=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:a,rects:l,platform:s,elements:m}=e,{apply:d=(()=>{}),...p}=f(t,e),h=await A(e,p),y=c(a),w=u(a),x="y"===g(a),{width:v,height:b}=l.floating;let R,P;"top"===y||"bottom"===y?(R=y,P=w===(await(null==s.isRTL?void 0:s.isRTL(m.floating))?"start":"end")?"left":"right"):(P=y,R="end"===w?"top":"bottom");const D=b-h.top-h.bottom,T=v-h.left-h.right,O=o(b-h[R],D),E=o(v-h[P],T),L=!e.middlewareData.shift;let k=O,C=E;if(null!=(n=e.middlewareData.shift)&&n.enabled.x&&(C=T),null!=(i=e.middlewareData.shift)&&i.enabled.y&&(k=D),L&&!w){const t=r(h.left,0),e=r(h.right,0),n=r(h.top,0),i=r(h.bottom,0);x?C=v-2*(0!==t||0!==e?t+e:r(h.left,h.right)):k=b-2*(0!==n||0!==i?n+i:r(h.top,h.bottom))}await d({...e,availableWidth:C,availableHeight:k});const B=await s.getDimensions(m.floating);return v!==B.width||b!==B.height?{reset:{rects:!0}}:{}}}}}));</script><script type="module">!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@floating-ui/core")):"function"==typeof define&&define.amd?define(["exports","@floating-ui/core"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).FloatingUIDOM={},t.FloatingUICore)}(this,(function(t,e){"use strict";const n=Math.min,o=Math.max,i=Math.round,r=Math.floor,c=t=>({x:t,y:t});function l(){return"undefined"!=typeof window}function s(t){return d(t)?(t.nodeName||"").toLowerCase():"#document"}function f(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function u(t){var e;return null==(e=(d(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function d(t){return!!l()&&(t instanceof Node||t instanceof f(t).Node)}function a(t){return!!l()&&(t instanceof Element||t instanceof f(t).Element)}function h(t){return!!l()&&(t instanceof HTMLElement||t instanceof f(t).HTMLElement)}function p(t){return!(!l()||"undefined"==typeof ShadowRoot)&&(t instanceof ShadowRoot||t instanceof f(t).ShadowRoot)}function g(t){const{overflow:e,overflowX:n,overflowY:o,display:i}=b(t);return/auto|scroll|overlay|hidden|clip/.test(e+o+n)&&!["inline","contents"].includes(i)}function m(t){return["table","td","th"].includes(s(t))}function y(t){return[":popover-open",":modal"].some((e=>{try{return t.matches(e)}catch(t){return!1}}))}function w(t){const e=x(),n=a(t)?b(t):t;return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((t=>(n.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(n.contain||"").includes(t)))}function x(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function v(t){return["html","body","#document"].includes(s(t))}function b(t){return f(t).getComputedStyle(t)}function T(t){return a(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function L(t){if("html"===s(t))return t;const e=t.assignedSlot||t.parentNode||p(t)&&t.host||u(t);return p(e)?e.host:e}function R(t){const e=L(t);return v(e)?t.ownerDocument?t.ownerDocument.body:t.body:h(e)&&g(e)?e:R(e)}function C(t,e,n){var o;void 0===e&&(e=[]),void 0===n&&(n=!0);const i=R(t),r=i===(null==(o=t.ownerDocument)?void 0:o.body),c=f(i);if(r){const t=E(c);return e.concat(c,c.visualViewport||[],g(i)?i:[],t&&n?C(t):[])}return e.concat(i,C(i,[],n))}function E(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function S(t){const e=b(t);let n=parseFloat(e.width)||0,o=parseFloat(e.height)||0;const r=h(t),c=r?t.offsetWidth:n,l=r?t.offsetHeight:o,s=i(n)!==c||i(o)!==l;return s&&(n=c,o=l),{width:n,height:o,$:s}}function F(t){return a(t)?t:t.contextElement}function O(t){const e=F(t);if(!h(e))return c(1);const n=e.getBoundingClientRect(),{width:o,height:r,$:l}=S(e);let s=(l?i(n.width):n.width)/o,f=(l?i(n.height):n.height)/r;return s&&Number.isFinite(s)||(s=1),f&&Number.isFinite(f)||(f=1),{x:s,y:f}}const D=c(0);function H(t){const e=f(t);return x()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:D}function P(t,n,o,i){void 0===n&&(n=!1),void 0===o&&(o=!1);const r=t.getBoundingClientRect(),l=F(t);let s=c(1);n&&(i?a(i)&&(s=O(i)):s=O(t));const u=function(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==f(t))&&e}(l,o,i)?H(l):c(0);let d=(r.left+u.x)/s.x,h=(r.top+u.y)/s.y,p=r.width/s.x,g=r.height/s.y;if(l){const t=f(l),e=i&&a(i)?f(i):i;let n=t,o=E(n);for(;o&&i&&e!==n;){const t=O(o),e=o.getBoundingClientRect(),i=b(o),r=e.left+(o.clientLeft+parseFloat(i.paddingLeft))*t.x,c=e.top+(o.clientTop+parseFloat(i.paddingTop))*t.y;d*=t.x,h*=t.y,p*=t.x,g*=t.y,d+=r,h+=c,n=f(o),o=E(n)}}return e.rectToClientRect({width:p,height:g,x:d,y:h})}function W(t,e){const n=T(t).scrollLeft;return e?e.left+n:P(u(t)).left+n}function M(t,e,n){void 0===n&&(n=!1);const o=t.getBoundingClientRect();return{x:o.left+e.scrollLeft-(n?0:W(t,o)),y:o.top+e.scrollTop}}function z(t,n,i){let r;if("viewport"===n)r=function(t,e){const n=f(t),o=u(t),i=n.visualViewport;let r=o.clientWidth,c=o.clientHeight,l=0,s=0;if(i){r=i.width,c=i.height;const t=x();(!t||t&&"fixed"===e)&&(l=i.offsetLeft,s=i.offsetTop)}return{width:r,height:c,x:l,y:s}}(t,i);else if("document"===n)r=function(t){const e=u(t),n=T(t),i=t.ownerDocument.body,r=o(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),c=o(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let l=-n.scrollLeft+W(t);const s=-n.scrollTop;return"rtl"===b(i).direction&&(l+=o(e.clientWidth,i.clientWidth)-r),{width:r,height:c,x:l,y:s}}(u(t));else if(a(n))r=function(t,e){const n=P(t,!0,"fixed"===e),o=n.top+t.clientTop,i=n.left+t.clientLeft,r=h(t)?O(t):c(1);return{width:t.clientWidth*r.x,height:t.clientHeight*r.y,x:i*r.x,y:o*r.y}}(n,i);else{const e=H(t);r={x:n.x-e.x,y:n.y-e.y,width:n.width,height:n.height}}return e.rectToClientRect(r)}function A(t,e){const n=L(t);return!(n===e||!a(n)||v(n))&&("fixed"===b(n).position||A(n,e))}function V(t,e,n){const o=h(e),i=u(e),r="fixed"===n,l=P(t,!0,r,e);let f={scrollLeft:0,scrollTop:0};const d=c(0);if(o||!o&&!r)if(("body"!==s(e)||g(i))&&(f=T(e)),o){const t=P(e,!0,r,e);d.x=t.x+e.clientLeft,d.y=t.y+e.clientTop}else i&&(d.x=W(i));const a=!i||o||r?c(0):M(i,f);return{x:l.left+f.scrollLeft-d.x-a.x,y:l.top+f.scrollTop-d.y-a.y,width:l.width,height:l.height}}function B(t){return"static"===b(t).position}function N(t,e){if(!h(t)||"fixed"===b(t).position)return null;if(e)return e(t);let n=t.offsetParent;return u(t)===n&&(n=n.ownerDocument.body),n}function I(t,e){const n=f(t);if(y(t))return n;if(!h(t)){let e=L(t);for(;e&&!v(e);){if(a(e)&&!B(e))return e;e=L(e)}return n}let o=N(t,e);for(;o&&m(o)&&B(o);)o=N(o,e);return o&&v(o)&&B(o)&&!w(o)?n:o||function(t){let e=L(t);for(;h(e)&&!v(e);){if(w(e))return e;if(y(e))return null;e=L(e)}return null}(t)||n}const k={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:n,offsetParent:o,strategy:i}=t;const r="fixed"===i,l=u(o),f=!!e&&y(e.floating);if(o===l||f&&r)return n;let d={scrollLeft:0,scrollTop:0},a=c(1);const p=c(0),m=h(o);if((m||!m&&!r)&&(("body"!==s(o)||g(l))&&(d=T(o)),h(o))){const t=P(o);a=O(o),p.x=t.x+o.clientLeft,p.y=t.y+o.clientTop}const w=!l||m||r?c(0):M(l,d,!0);return{width:n.width*a.x,height:n.height*a.y,x:n.x*a.x-d.scrollLeft*a.x+p.x+w.x,y:n.y*a.y-d.scrollTop*a.y+p.y+w.y}},getDocumentElement:u,getClippingRect:function(t){let{element:e,boundary:i,rootBoundary:r,strategy:c}=t;const l=[..."clippingAncestors"===i?y(e)?[]:function(t,e){const n=e.get(t);if(n)return n;let o=C(t,[],!1).filter((t=>a(t)&&"body"!==s(t))),i=null;const r="fixed"===b(t).position;let c=r?L(t):t;for(;a(c)&&!v(c);){const e=b(c),n=w(c);n||"fixed"!==e.position||(i=null),(r?!n&&!i:!n&&"static"===e.position&&i&&["absolute","fixed"].includes(i.position)||g(c)&&!n&&A(t,c))?o=o.filter((t=>t!==c)):i=e,c=L(c)}return e.set(t,o),o}(e,this._c):[].concat(i),r],f=l[0],u=l.reduce(((t,i)=>{const r=z(e,i,c);return t.top=o(r.top,t.top),t.right=n(r.right,t.right),t.bottom=n(r.bottom,t.bottom),t.left=o(r.left,t.left),t}),z(e,f,c));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},getOffsetParent:I,getElementRects:async function(t){const e=this.getOffsetParent||I,n=this.getDimensions,o=await n(t.floating);return{reference:V(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:n}=S(t);return{width:e,height:n}},getScale:O,isElement:a,isRTL:function(t){return"rtl"===b(t).direction}};const q=e.detectOverflow,U=e.offset,j=e.autoPlacement,X=e.shift,Y=e.flip,$=e.size,_=e.hide,G=e.arrow,J=e.inline,K=e.limitShift;t.arrow=G,t.autoPlacement=j,t.autoUpdate=function(t,e,i,c){void 0===c&&(c={});const{ancestorScroll:l=!0,ancestorResize:s=!0,elementResize:f="function"==typeof ResizeObserver,layoutShift:d="function"==typeof IntersectionObserver,animationFrame:a=!1}=c,h=F(t),p=l||s?[...h?C(h):[],...C(e)]:[];p.forEach((t=>{l&&t.addEventListener("scroll",i,{passive:!0}),s&&t.addEventListener("resize",i)}));const g=h&&d?function(t,e){let i,c=null;const l=u(t);function s(){var t;clearTimeout(i),null==(t=c)||t.disconnect(),c=null}return function f(u,d){void 0===u&&(u=!1),void 0===d&&(d=1),s();const{left:a,top:h,width:p,height:g}=t.getBoundingClientRect();if(u||e(),!p||!g)return;const m={rootMargin:-r(h)+"px "+-r(l.clientWidth-(a+p))+"px "+-r(l.clientHeight-(h+g))+"px "+-r(a)+"px",threshold:o(0,n(1,d))||1};let y=!0;function w(t){const e=t[0].intersectionRatio;if(e!==d){if(!y)return f();e?f(!1,e):i=setTimeout((()=>{f(!1,1e-7)}),1e3)}y=!1}try{c=new IntersectionObserver(w,{...m,root:l.ownerDocument})}catch(t){c=new IntersectionObserver(w,m)}c.observe(t)}(!0),s}(h,i):null;let m,y=-1,w=null;f&&(w=new ResizeObserver((t=>{let[n]=t;n&&n.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(y),y=requestAnimationFrame((()=>{var t;null==(t=w)||t.observe(e)}))),i()})),h&&!a&&w.observe(h),w.observe(e));let x=a?P(t):null;return a&&function e(){const n=P(t);!x||n.x===x.x&&n.y===x.y&&n.width===x.width&&n.height===x.height||i();x=n,m=requestAnimationFrame(e)}(),i(),()=>{var t;p.forEach((t=>{l&&t.removeEventListener("scroll",i),s&&t.removeEventListener("resize",i)})),null==g||g(),null==(t=w)||t.disconnect(),w=null,a&&cancelAnimationFrame(m)}},t.computePosition=(t,n,o)=>{const i=new Map,r={platform:k,...o},c={...r.platform,_c:i};return e.computePosition(t,n,{...r,platform:c})},t.detectOverflow=q,t.flip=Y,t.getOverflowAncestors=C,t.hide=_,t.inline=J,t.limitShift=K,t.offset=U,t.platform=k,t.shift=X,t.size=$}));</script><script type="module">function setupTooltip(e,o){let s=e.querySelector(".twoslash-popup-container"),t=s.closest(".expressive-code"),i="twoslash_popup_"+[Math.random(),Date.now()].map(e=>e.toString(36).substring(2,10)).join("_");s.setAttribute("role","tooltip"),s.setAttribute("tabindex","-1"),s?.parentNode&&s.parentNode.removeChild(s);let a=!1,r;function n(){clearTimeout(r),t.appendChild(s),new Promise(e=>requestAnimationFrame(()=>{requestAnimationFrame(e)})).then(()=>FloatingUIDOM.computePosition(e,s,{placement:o?"bottom":"bottom-start",middleware:[FloatingUIDOM.size({apply({availableWidth:e}){Object.assign(s.style,{maxWidth:Math.max(300,e)+"px",maxHeight:"100%"})}})]})).then(({x:e,y:t})=>{Object.assign(s.style,{display:"block",left:`${o?20:e}px`,top:t+"px"})}),s.setAttribute("aria-hidden","false"),e.querySelector(".twoslash-hover span")?.setAttribute("aria-describedby",i),s.setAttribute("id",i)}function d(){s.setAttribute("aria-hidden","true"),e.querySelector(".twoslash-hover span")?.removeAttribute("aria-describedby"),s.removeAttribute("id"),s.style.display="none"}e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",()=>{r=setTimeout(()=>{a||d()},100)}),s.addEventListener("mouseenter",()=>{clearTimeout(r),a=!0}),s.addEventListener("mouseleave",()=>{a=!1,r=setTimeout(()=>{e.matches(":hover")||d()},100)}),e.addEventListener("focus",n),e.addEventListener("blur",d),d()}let isMobileScreen=window.matchMedia("(max-width: 500px)").matches;function initTwoslashPopups(e){e.querySelectorAll?.(".twoslash-hover").forEach(e=>{setupTooltip(e,isMobileScreen)})}initTwoslashPopups(document);let newTwoslashPopupObserver=new MutationObserver(e=>e.forEach(e=>e.addedNodes.forEach(e=>{initTwoslashPopups(e)})));newTwoslashPopupObserver.observe(document.body,{childList:!0,subtree:!0}),document.addEventListener("astro:page-load",()=>{initTwoslashPopups(document.body)});</script><figure class="frame"><figcaption class="header"></figcaption><pre data-language="html"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">&lt;</span><span style="--0:#85E89D;--1:#1E7734">body</span><span style="--0:#E1E4E8;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">&lt;</span><span style="--0:#85E89D;--1:#1E7734">h1</span><span style="--0:#E1E4E8;--1:#24292E">&gt;Welcome Home, &lt;</span><span style="--0:#85E89D;--1:#1E7734">span</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">id</span><span style="--0:#E1E4E8;--1:#24292E">=</span><span style="--0:#9ECBFF;--1:#032F62">&#39;greeting&#39;</span><span style="--0:#E1E4E8;--1:#24292E">&gt;Loading...&lt;/</span><span style="--0:#85E89D;--1:#1E7734">span</span><span style="--0:#E1E4E8;--1:#24292E">&gt;&lt;/</span><span style="--0:#85E89D;--1:#1E7734">h1</span><span style="--0:#E1E4E8;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">&lt;/</span><span style="--0:#85E89D;--1:#1E7734">body</span><span style="--0:#E1E4E8;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">&lt;</span><span style="--0:#85E89D;--1:#1E7734">script</span><span style="--0:#E1E4E8;--1:#24292E">&gt;</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">    </span><span style="--0:#F97583;--1:#BF3441">const</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">queryString</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E"> location.search;</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">    </span><span style="--0:#F97583;--1:#BF3441">const</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">urlParams</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">new</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">URLSearchParams</span><span style="--0:#E1E4E8;--1:#24292E">(queryString);</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">    </span><span style="--0:#F97583;--1:#BF3441">const</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">userName</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E"> urlParams.</span><span style="--0:#B392F0;--1:#6F42C1">get</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#9ECBFF;--1:#032F62">&#39;user&#39;</span><span style="--0:#E1E4E8;--1:#24292E">);</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">document.</span><span style="--0:#B392F0;--1:#6F42C1">getElementById</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#9ECBFF;--1:#032F62">&#39;userName&#39;</span><span style="--0:#E1E4E8;--1:#24292E">).innerHtml</span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E"> userName </span><span style="--0:#F97583;--1:#BF3441">||</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#9ECBFF;--1:#032F62">&#39;Anonymous&#39;</span><span style="--0:#E1E4E8;--1:#24292E">;</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">&lt;/</span><span style="--0:#85E89D;--1:#1E7734">script</span><span style="--0:#E1E4E8;--1:#24292E">&gt;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="  <body>    <h1>Welcome Home, <span id='greeting'>Loading...</span></h1>  </body>  <script>    const queryString = location.search;    const urlParams = new URLSearchParams(queryString);    const userName = urlParams.get('user');    document.getElementById('userName').innerHtml= userName || 'Anonymous';  </script>"><div></div></button></div></figure></div>
 </template><!--astro:end--></astro-island><astro-island uid="1pEXOO" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;15&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Not Just <code>&lt;script&gt;</code> Elements</div>
<ul>
<li>Injected script elements are often blocked by the browser</li>
<li>Malformed tags can work better:
<ul>
<li><code>&lt;IMG SRC=&quot;javascript:alert(&#39;pwned&#39;);&quot;&gt;</code></li>
</ul>
</li>
<li>Also events:
<ul>
<li><code>&lt;img src=&#39;http://example.com&#39; onload=&#39;alert(&quot;pwned&quot;)&#39;&gt;</code></li>
</ul>
</li>
</ul>

 </template><!--astro:end--></astro-island><astro-island uid="1pF6Pc" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;16&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Variation: Self-XSS</div>
<ul>
<li>User tricked into pasting malicious code into browser console</li>
<li>Fairly rare in practice</li>
<li>Not really your concern as a developer</li>
<li>Users have access to dev tools - can‚Äôt prevent this</li>
<li>Prevention: User education, console warnings</li>
</ul>
<a href="https://www.youtube.com/watch?v=pVIxO4Z_rYU"><figure style="width:25%;height:auto;right:0;bottom:0;transform:scaleX(-1);"><p><img src="/_astro/self-xss.5B0TYcTo_Z4J6vB.webp" alt="Self-XSS" loading="lazy" decoding="async" fetchpriority="auto" width="701" height="696"></p></figure></a>
 </template><!--astro:end--></astro-island><astro-island uid="1pFePz" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;17&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="text-8xl text-left pl-10 font-semibold pt-20 dark:text-white">Server-Side XSS</div>
 </template><!--astro:end--></astro-island><astro-island uid="1pFmPW" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;18&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Details</div>
<ul>
<li>Happens with apps containing user-generated content:
<ul>
<li>Forums</li>
<li>Content Management Systems</li>
</ul>
</li>
<li>Most dangerous because the script runs on everyone‚Äôs browser</li>
<li>SPAs are affected too!</li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="1pFuQk" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;19&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Server-side Attack Flow</div>
<div style="transform: scale(0.9); transform-origin: top center;"><p><svg aria-roledescription="sequence" role="graphics-document document" viewBox="-88.5 -10 995 728" style="max-width:995px" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-0"><g><rect class="actor actor-bottom" ry="3" rx="3" name="Victim" height="65" width="150" stroke="#666" fill="#eaeaea" y="642" x="682"></rect><text style="text-anchor:middle;font-size:16px;font-weight:400;font-family:arial, sans-serif" class="actor" alignment-baseline="central" dominant-baseline="central" y="674.5" x="757"><tspan dy="0" x="757">Victim</tspan></text></g><g><rect class="actor actor-bottom" ry="3" rx="3" name="Database" height="65" width="150" stroke="#666" fill="#eaeaea" y="642" x="482"></rect><text style="text-anchor:middle;font-size:16px;font-weight:400;font-family:arial, sans-serif" class="actor" alignment-baseline="central" dominant-baseline="central" y="674.5" x="557"><tspan dy="0" x="557">Database</tspan></text></g><g><rect class="actor actor-bottom" ry="3" rx="3" name="Website" height="65" width="150" stroke="#666" fill="#eaeaea" y="642" x="234"></rect><text style="text-anchor:middle;font-size:16px;font-weight:400;font-family:arial, sans-serif" class="actor" alignment-baseline="central" dominant-baseline="central" y="674.5" x="309"><tspan dy="0" x="309">Website</tspan></text></g><g><rect class="actor actor-bottom" ry="3" rx="3" name="Attacker" height="65" width="150" stroke="#666" fill="#eaeaea" y="642" x="0"></rect><text style="text-anchor:middle;font-size:16px;font-weight:400;font-family:arial, sans-serif" class="actor" alignment-baseline="central" dominant-baseline="central" y="674.5" x="75"><tspan dy="0" x="75">Attacker</tspan></text></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="642" x2="757" y1="5" x1="757" id="actor3"></line><g id="root-3"><rect class="actor actor-top" ry="3" rx="3" name="Victim" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="682"></rect><text style="text-anchor:middle;font-size:16px;font-weight:400;font-family:arial, sans-serif" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="757"><tspan dy="0" x="757">Victim</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="642" x2="557" y1="5" x1="557" id="actor2"></line><g id="root-2"><rect class="actor actor-top" ry="3" rx="3" name="Database" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="482"></rect><text style="text-anchor:middle;font-size:16px;font-weight:400;font-family:arial, sans-serif" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="557"><tspan dy="0" x="557">Database</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="642" x2="309" y1="5" x1="309" id="actor1"></line><g id="root-1"><rect class="actor actor-top" ry="3" rx="3" name="Website" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="234"></rect><text style="text-anchor:middle;font-size:16px;font-weight:400;font-family:arial, sans-serif" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="309"><tspan dy="0" x="309">Website</tspan></text></g></g><g><line stroke="#999" stroke-width="0.5px" class="200" y2="642" x2="75" y1="5" x1="75" id="actor0"></line><g id="root-0"><rect class="actor actor-top" ry="3" rx="3" name="Attacker" height="65" width="150" stroke="#666" fill="#eaeaea" y="0" x="0"></rect><text style="text-anchor:middle;font-size:16px;font-weight:400;font-family:arial, sans-serif" class="actor" alignment-baseline="central" dominant-baseline="central" y="32.5" x="75"><tspan dy="0" x="75">Attacker</tspan></text></g></g><style>#mermaid-0{font-family:arial,sans-serif;font-size:16px;fill:#333;}#mermaid-0 .error-icon{fill:#552222;}#mermaid-0 .error-text{fill:#552222;stroke:#552222;}#mermaid-0 .edge-thickness-normal{stroke-width:2px;}#mermaid-0 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-0 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-0 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-0 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-0 .marker{fill:#333333;stroke:#333333;}#mermaid-0 .marker.cross{stroke:#333333;}#mermaid-0 svg{font-family:arial,sans-serif;font-size:16px;}#mermaid-0 .actor{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-0 text.actor>tspan{fill:black;stroke:none;}#mermaid-0 .actor-line{stroke:grey;}#mermaid-0 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-0 .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-0 #arrowhead path{fill:#333;stroke:#333;}#mermaid-0 .sequenceNumber{fill:white;}#mermaid-0 #sequencenumber{fill:#333;}#mermaid-0 #crosshead path{fill:#333;stroke:#333;}#mermaid-0 .messageText{fill:#333;stroke:none;}#mermaid-0 .labelBox{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-0 .labelText,#mermaid-0 .labelText>tspan{fill:black;stroke:none;}#mermaid-0 .loopText,#mermaid-0 .loopText>tspan{fill:black;stroke:none;}#mermaid-0 .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#mermaid-0 .note{stroke:#aaaa33;fill:#fff5ad;}#mermaid-0 .noteText,#mermaid-0 .noteText>tspan{fill:black;stroke:none;}#mermaid-0 .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-0 .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-0 .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-0 .actorPopupMenu{position:absolute;}#mermaid-0 .actorPopupMenuPanel{position:absolute;fill:#ECECFF;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);filter:drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));}#mermaid-0 .actor-man line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-0 .actor-man circle,#mermaid-0 line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;stroke-width:2px;}#mermaid-0 :root{--mermaid-font-family:arial,sans-serif;}</style><g></g><defs><symbol height="24" width="24" id="computer"><path d="M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z" transform="scale(.5)"></path></symbol></defs><defs><symbol clip-rule="evenodd" fill-rule="evenodd" id="database"><path d="M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z" transform="scale(.5)"></path></symbol></defs><defs><symbol height="24" width="24" id="clock"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z" transform="scale(.5)"></path></symbol></defs><defs><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="7.9" id="arrowhead"><path d="M 0 0 L 10 5 L 0 10 z"></path></marker></defs><defs><marker refY="4.5" refX="4" orient="auto" markerHeight="8" markerWidth="15" id="crosshead"><path style="stroke-dasharray:0, 0" d="M 1,2 L 6,7 M 6,2 L 1,7" stroke-width="1pt" stroke="#000000" fill="none"></path></marker></defs><defs><marker orient="auto" markerHeight="28" markerWidth="20" refY="7" refX="15.5" id="filled-head"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker orient="auto" markerHeight="40" markerWidth="60" refY="15" refX="15" id="sequencenumber"><circle r="6" cy="15" cx="15"></circle></marker></defs><g><rect class="note" ry="0" rx="0" height="37" width="227" stroke="#666" fill="#EDF2AE" y="75" x="-38.5"></rect><text style="font-family:arial, sans-serif;font-size:16px;font-weight:400" dy="1em" class="noteText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="80" x="75"><tspan x="75">Step 1: Discover vulnerability</tspan></text></g><g><rect class="note" ry="0" rx="0" height="37" width="172" stroke="#666" fill="#EDF2AE" y="227" x="471"></rect><text style="font-family:arial, sans-serif;font-size:16px;font-weight:400" dy="1em" class="noteText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="232" x="557"><tspan x="557">Poisoned data at rest</tspan></text></g><g><rect class="note" ry="0" rx="0" height="37" width="199" stroke="#666" fill="#EDF2AE" y="274" x="657.5"></rect><text style="font-family:arial, sans-serif;font-size:16px;font-weight:400" dy="1em" class="noteText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="279" x="757"><tspan x="757">Step 2: Victim visits page</tspan></text></g><g><rect class="note" ry="0" rx="0" height="37" width="185" stroke="#666" fill="#EDF2AE" y="497" x="664.5"></rect><text style="font-family:arial, sans-serif;font-size:16px;font-weight:400" dy="1em" class="noteText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="502" x="757"><tspan x="757">Step 3: Script executes</tspan></text></g><text style="font-family:arial, sans-serif;font-size:16px;font-weight:400" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="127" x="191">Submit malicious script</text><text style="font-family:arial, sans-serif;font-size:16px;font-weight:400" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="144" x="191">via form/comment</text><line style="fill:none" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="173" x2="305" y1="173" x1="76"></line><text style="font-family:arial, sans-serif;font-size:16px;font-weight:400" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="188" x="432">Store unescaped content</text><line style="fill:none" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="217" x2="553" y1="217" x1="310"></line><text style="font-family:arial, sans-serif;font-size:16px;font-weight:400" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="326" x="535">Normal page request</text><line style="fill:none" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="355" x2="313" y1="355" x1="756"></line><text style="font-family:arial, sans-serif;font-size:16px;font-weight:400" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="370" x="432">Fetch content</text><line style="fill:none" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="399" x2="553" y1="399" x1="310"></line><text style="font-family:arial, sans-serif;font-size:16px;font-weight:400" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="414" x="435">Return poisoned content</text><line style="stroke-dasharray:3, 3;fill:none" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine1" y2="443" x2="313" y1="443" x1="556"></line><text style="font-family:arial, sans-serif;font-size:16px;font-weight:400" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="458" x="532">Serve page with script</text><line style="stroke-dasharray:3, 3;fill:none" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine1" y2="487" x2="753" y1="487" x1="310"></line><text style="font-family:arial, sans-serif;font-size:16px;font-weight:400" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="549" x="418">Session cookie sent</text><line style="fill:none" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="578" x2="79" y1="578" x1="756"></line><text style="font-family:arial, sans-serif;font-size:16px;font-weight:400" dy="1em" class="messageText" alignment-baseline="middle" dominant-baseline="middle" text-anchor="middle" y="593" x="191">Impersonate victim</text><line style="fill:none" marker-end="url(#arrowhead)" stroke="none" stroke-width="2" class="messageLine0" y2="622" x2="305" y1="622" x1="76"></line></svg></p></div>
 </template><!--astro:end--></astro-island><astro-island uid="1pInYC" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;20&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">XSS Mitigation</div>
<ul>
<li>Encode output data</li>
<li>Razor engine does this automatically</li>
<li>Angular does too</li>
<li><em>But this is still possible to screw up</em></li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="1pIw00" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;21&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="text-8xl text-left pl-10 font-semibold pt-20 dark:text-white">DOM-Based XSS</div>
 </template><!--astro:end--></astro-island><astro-island uid="1pIE0n" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;22&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Basics</div>
<ul>
<li>Doesn‚Äôt involve trip to server</li>
<li>Exploits vulnerabilities in
<ul>
<li>SPA Frameworks</li>
<li>Your app</li>
</ul>
</li>
<li>Filter potentially scary user input</li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="1pIM0K" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;23&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Angular: A Solved Problem*</div>
<ul>
<li>Angular treats all input as untrusted by default</li>
<li>Automatic sanitization and escaping</li>
<li>Have to actively bypass protections</li>
<li>Bypass use cases are rare</li>
</ul>

 </template><!--astro:end--></astro-island><astro-island uid="1pIU18" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;24&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Safe: Template Expressions</div>
<ul>
<li>Angular escapes all special characters</li>
<li>Treats everything as plain text</li>
</ul>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">login-info.component.ts</span></figcaption><pre data-language="typescript"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#E1E4E8;--1:#24292E">@</span><span style="--0:#B392F0;--1:#6F42C1">Component</span><span style="--0:#E1E4E8;--1:#24292E">({</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">selector: </span><span style="--0:#9ECBFF;--1:#032F62">&#39;app-login-info&#39;</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">template: </span><span style="--0:#9ECBFF;--1:#032F62">`</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent"><span style="--0:#9ECBFF;--1:#032F62">    </span></span><span style="--0:#9ECBFF;--1:#032F62">&lt;h2&gt;Template Expression:&lt;/h2&gt;</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent"><span style="--0:#9ECBFF;--1:#032F62">    </span></span><span style="--0:#9ECBFF;--1:#032F62">&lt;div&gt;{{contents}}&lt;/div&gt;`</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span style="--0:#E1E4E8;--1:#24292E">})</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span style="--0:#F97583;--1:#BF3441">export</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">class</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">LoginInfo</span><span style="--0:#E1E4E8;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">@</span><span style="--0:#B392F0;--1:#6F42C1">Input</span><span style="--0:#E1E4E8;--1:#24292E">()</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">  </span><span style="--0:#FFAB70;--1:#AE4B07">contents</span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#9ECBFF;--1:#032F62">&#39;&lt;img src=&quot;x&quot; onerror=&quot;alert(</span><span style="--0:#79B8FF;--1:#005CC5">\&#39;</span><span style="--0:#9ECBFF;--1:#032F62">SNAKED</span><span style="--0:#79B8FF;--1:#005CC5">\&#39;</span><span style="--0:#9ECBFF;--1:#032F62">)&quot;&gt;&#39;</span><span style="--0:#E1E4E8;--1:#24292E">;</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Component({  selector: 'app-login-info',  template: `    <h2>Template Expression:</h2>    <div>{{contents}}</div>`})export class LoginInfo {  @Input()  contents='<img src=&#34;x&#34; onerror=&#34;alert(\'SNAKED\')&#34;>';}"><div></div></button></div></figure></div>
<ul>
<li>Renders literal string, no script execution</li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="1pJ31v" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;25&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Safe: InnerHTML Binding</div>
<ul>
<li>DomSanitizer runs automatically</li>
<li>Strips dangerous elements and attributes</li>
</ul>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">login-info.component.ts</span></figcaption><pre data-language="typescript"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#F97583;--1:#BF3441">import</span><span style="--0:#E1E4E8;--1:#24292E"> { Component, Input } </span><span style="--0:#F97583;--1:#BF3441">from</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#9ECBFF;--1:#032F62">&#39;@angular/core&#39;</span><span style="--0:#E1E4E8;--1:#24292E">;</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#E1E4E8;--1:#24292E">@</span><span style="--0:#B392F0;--1:#6F42C1">Component</span><span style="--0:#E1E4E8;--1:#24292E">({</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">selector: </span><span style="--0:#9ECBFF;--1:#032F62">&#39;app-login-info&#39;</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">template: </span><span style="--0:#9ECBFF;--1:#032F62">`</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent"><span style="--0:#9ECBFF;--1:#032F62">    </span></span><span style="--0:#9ECBFF;--1:#032F62">&lt;h2&gt;InnerHTML binding:&lt;/h2&gt;</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent"><span style="--0:#9ECBFF;--1:#032F62">    </span></span><span style="--0:#9ECBFF;--1:#032F62">&lt;div [innerHTML]=&#39;contents&#39;&gt;&lt;/div&gt;`</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span style="--0:#E1E4E8;--1:#24292E">})</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span style="--0:#F97583;--1:#BF3441">export</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">class</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">LoginInfo</span><span style="--0:#E1E4E8;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">@</span><span style="--0:#B392F0;--1:#6F42C1">Input</span><span style="--0:#E1E4E8;--1:#24292E">()</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">  </span><span style="--0:#FFAB70;--1:#AE4B07">contents</span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#9ECBFF;--1:#032F62">&#39;&lt;img src=&quot;x&quot; onerror=&quot;alert(</span><span style="--0:#79B8FF;--1:#005CC5">\&#39;</span><span style="--0:#9ECBFF;--1:#032F62">SNAKED</span><span style="--0:#79B8FF;--1:#005CC5">\&#39;</span><span style="--0:#9ECBFF;--1:#032F62">)&quot;&gt;&#39;</span><span style="--0:#E1E4E8;--1:#24292E">;</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import { Component, Input } from '@angular/core';@Component({  selector: 'app-login-info',  template: `    <h2>InnerHTML binding:</h2>    <div [innerHTML]='contents'></div>`})export class LoginInfo {  @Input()  contents='<img src=&#34;x&#34; onerror=&#34;alert(\'SNAKED\')&#34;>';}"><div></div></button></div></figure></div>
<ul>
<li><code>onerror</code> handler stripped, image displays safely</li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="1pJb1S" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;26&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Unsafe: Raw DOM Manipulation</div>
<ul>
<li>Bypass Angular entirely, no automatic sanitization</li>
</ul>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">login-info.component.ts</span></figcaption><pre data-language="typescript"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#E1E4E8;--1:#24292E">@</span><span style="--0:#B392F0;--1:#6F42C1">Component</span><span style="--0:#E1E4E8;--1:#24292E">({</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">selector: </span><span style="--0:#9ECBFF;--1:#032F62">&#39;app-login-info&#39;</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">template: </span><span style="--0:#9ECBFF;--1:#032F62">`</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent"><span style="--0:#9ECBFF;--1:#032F62">    </span></span><span style="--0:#9ECBFF;--1:#032F62">&lt;h2&gt;Raw DOM access:&lt;/h2&gt;</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent"><span style="--0:#9ECBFF;--1:#032F62">    </span></span><span style="--0:#9ECBFF;--1:#032F62">&lt;div id=&#39;myDiv&#39;&gt;&lt;/div&gt;`</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span style="--0:#E1E4E8;--1:#24292E">})</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span style="--0:#F97583;--1:#BF3441">export</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">class</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">LoginInfo</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">implements</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">OnInit</span><span style="--0:#E1E4E8;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent">  </span><span style="--0:#B392F0;--1:#6F42C1">ngOnInit</span><span style="--0:#E1E4E8;--1:#24292E">()</span><span style="--0:#F97583;--1:#BF3441">:</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">void</span><span style="--0:#E1E4E8;--1:#24292E"> {</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">document.</span><span style="--0:#c2a8f3;--1:#613aa9">getElementById</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#9ECBFF;--1:#032F62">&#39;myDiv&#39;</span><span style="--0:#E1E4E8;--1:#24292E">)</span><span style="--0:#fb99a3;--1:#982934">!</span><span style="--0:#E1E4E8;--1:#24292E">.innerHTML </span><span style="--0:#fb99a3;--1:#982934">=</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#004fa9">this</span><span style="--0:#E1E4E8;--1:#24292E">.contents;</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">@</span><span style="--0:#B392F0;--1:#6F42C1">Input</span><span style="--0:#E1E4E8;--1:#24292E">()</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent">  </span><span style="--0:#FFAB70;--1:#AE4B07">contents</span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#9ECBFF;--1:#032F62">&#39;&lt;img src=&quot;x&quot; onerror=&quot;alert(</span><span style="--0:#79B8FF;--1:#005CC5">\&#39;</span><span style="--0:#9ECBFF;--1:#032F62">SNAKED</span><span style="--0:#79B8FF;--1:#005CC5">\&#39;</span><span style="--0:#9ECBFF;--1:#032F62">)&quot;&gt;&#39;</span><span style="--0:#E1E4E8;--1:#24292E">;</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="@Component({  selector: 'app-login-info',  template: `    <h2>Raw DOM access:</h2>    <div id='myDiv'></div>`})export class LoginInfo implements OnInit {  ngOnInit(): void {    document.getElementById('myDiv')!.innerHTML = this.contents;  }  @Input()  contents='<img src=&#34;x&#34; onerror=&#34;alert(\'SNAKED\')&#34;>';}"><div></div></button></div></figure></div>
<ul>
<li>Script executes - Angular can‚Äôt protect you here</li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="1pJj2g" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;27&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">When Bypassing Seems Necessary</div>
<ul>
<li>Examples
<ul>
<li>Dynamic HTML from trusted CMS</li>
<li>Syntax highlighting for code blocks</li>
<li>Rich text editor output</li>
<li>Custom font imports</li>
</ul>
</li>
<li>Use <a href="https://angular.io/api/platform-browser/DomSanitizer" rel="nofollow" target="_blank">DOMSanitizer</a> to bypass Angular‚Äôs protections</li>
<li><strong>Question first</strong>: Do you really need this?</li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="1pJr2D" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;28&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">The Dangerous Pattern</div>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">search-results.component.ts</span></figcaption><pre data-language="typescript"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#F97583;--1:#BF3441">import</span><span style="--0:#E1E4E8;--1:#24292E"> { Component, inject } </span><span style="--0:#F97583;--1:#BF3441">from</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#9ECBFF;--1:#032F62">&#39;@angular/core&#39;</span><span style="--0:#E1E4E8;--1:#24292E">;</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span style="--0:#F97583;--1:#BF3441">import</span><span style="--0:#E1E4E8;--1:#24292E"> { DomSanitizer, SafeHtml } </span><span style="--0:#F97583;--1:#BF3441">from</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#9ECBFF;--1:#032F62">&#39;@angular/platform-browser&#39;</span><span style="--0:#E1E4E8;--1:#24292E">;</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#F97583;--1:#BF3441">import</span><span style="--0:#E1E4E8;--1:#24292E"> { ActivatedRoute } </span><span style="--0:#F97583;--1:#BF3441">from</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#9ECBFF;--1:#032F62">&#39;@angular/router&#39;</span><span style="--0:#E1E4E8;--1:#24292E">;</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span style="--0:#F97583;--1:#BF3441">export</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">class</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">SearchResultsComponent</span><span style="--0:#E1E4E8;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">  </span><span style="--0:#F97583;--1:#BF3441">private</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#FFAB70;--1:#AE4B07">sanitizer</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">inject</span><span style="--0:#E1E4E8;--1:#24292E">(DomSanitizer);</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent">  </span><span style="--0:#FFAB70;--1:#AE4B07">searchTerm</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">inject</span><span style="--0:#E1E4E8;--1:#24292E">(ActivatedRoute).snapshot.queryParams[</span><span style="--0:#9ECBFF;--1:#032F62">&#39;search&#39;</span><span style="--0:#E1E4E8;--1:#24292E">];</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code"><span class="indent">  </span><span style="--0:#B392F0;--1:#6F42C1">highlightQuery</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#FFAB70;--1:#AE4B07">text</span><span style="--0:#F97583;--1:#BF3441">:</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">string</span><span style="--0:#E1E4E8;--1:#24292E">)</span><span style="--0:#F97583;--1:#BF3441">:</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">SafeHtml</span><span style="--0:#E1E4E8;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent">    </span><span style="--0:#F97583;--1:#BF3441">const</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#005CC5">highlighted</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E"> text.</span><span style="--0:#B392F0;--1:#6F42C1">replace</span><span style="--0:#E1E4E8;--1:#24292E">(</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">      </span><span style="--0:#F97583;--1:#BF3441">new</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">RegExp</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#79B8FF;--1:#005CC5">this</span><span style="--0:#E1E4E8;--1:#24292E">.searchTerm, </span><span style="--0:#9ECBFF;--1:#032F62">&#39;gi&#39;</span><span style="--0:#E1E4E8;--1:#24292E">),</span></div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code"><span class="indent">      </span><span style="--0:#FFAB70;--1:#8b3c06">match</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#fb99a3;--1:#982934">=&gt;</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#9ECBFF;--1:#032F62">`&lt;span style=&quot;background: linear-gradient(45deg, #ff0, #f0f)&quot;&gt;${</span><span style="--0:#E1E4E8;--1:#24292E">match</span><span style="--0:#9ECBFF;--1:#032F62">}&lt;/span&gt;`</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">);</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code">
</div></div><div class="ec-line highlight mark"><div class="gutter"><div class="ln" aria-hidden="true">15</div></div><div class="code"><span class="indent">    </span><span style="--0:#fb99a3;--1:#982934">return</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#79B8FF;--1:#004fa9">this</span><span style="--0:#E1E4E8;--1:#24292E">.sanitizer.</span><span style="--0:#c2a8f3;--1:#613aa9">bypassSecurityTrustHtml</span><span style="--0:#E1E4E8;--1:#24292E">(highlighted);</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">16</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">17</div></div><div class="code"><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="import { Component, inject } from '@angular/core';import { DomSanitizer, SafeHtml } from '@angular/platform-browser';import { ActivatedRoute } from '@angular/router';export class SearchResultsComponent {  private sanitizer = inject(DomSanitizer);  searchTerm = inject(ActivatedRoute).snapshot.queryParams['search'];  highlightQuery(text: string): SafeHtml {    const highlighted = text.replace(      new RegExp(this.searchTerm, 'gi'),      match => `<span style=&#34;background: linear-gradient(45deg, #ff0, #f0f)&#34;>${match}</span>`    );    return this.sanitizer.bypassSecurityTrustHtml(highlighted);  }}"><div></div></button></div></figure></div>
 </template><!--astro:end--></astro-island><astro-island uid="1pJz31" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;29&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">What‚Äôs Wrong Here?</div>
<ul>
<li>Developer wants fancy gradient highlighting</li>
<li>Angular strips inline <code>style</code> attributes by default</li>
<li>So developer bypasses with <code>bypassSecurityTrustHtml</code></li>
<li><code>searchTerm</code> comes from query string (user-controlled)</li>
<li>Attacker crafts URL: <code>?search=&lt;img src=x onerror=alert(&#39;pwned&#39;)&gt;</code></li>
<li>Victim clicks link, script executes with their session</li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="1pMsbj" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;30&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Better Approach</div>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">search-results.component.ts</span></figcaption><pre data-language="typescript"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#B392F0;--1:#6F42C1">highlightQuery</span><span style="--0:#E1E4E8;--1:#24292E">(text: string): string {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#F97583;--1:#BF3441">return</span><span style="--0:#E1E4E8;--1:#24292E"> text.</span><span style="--0:#B392F0;--1:#6F42C1">replace</span><span style="--0:#E1E4E8;--1:#24292E">(</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent">    </span><span style="--0:#F97583;--1:#BF3441">new</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">RegExp</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#79B8FF;--1:#005CC5">this</span><span style="--0:#E1E4E8;--1:#24292E">.searchTerm, </span><span style="--0:#9ECBFF;--1:#032F62">&#39;gi&#39;</span><span style="--0:#E1E4E8;--1:#24292E">),</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent">    </span><span style="--0:#FFAB70;--1:#AE4B07">match</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">=&gt;</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#9ECBFF;--1:#032F62">`&lt;span class=&quot;search-highlight&quot;&gt;${</span><span style="--0:#E1E4E8;--1:#24292E">match</span><span style="--0:#9ECBFF;--1:#032F62">}&lt;/span&gt;`</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">  </span></span><span style="--0:#E1E4E8;--1:#24292E">);</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="highlightQuery(text: string): string {  return text.replace(    new RegExp(this.searchTerm, 'gi'),    match => `<span class=&#34;search-highlight&#34;>${match}</span>`  );}"><div></div></button></div></figure></div>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">search-results.component.css</span></figcaption><pre data-language="css"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#B392F0;--1:#6F42C1">.search-highlight</span><span style="--0:#E1E4E8;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent">  </span><span style="--0:#79B8FF;--1:#005CC5">background</span><span style="--0:#E1E4E8;--1:#24292E">: </span><span style="--0:#79B8FF;--1:#005CC5">linear-gradient</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#79B8FF;--1:#005CC5">45</span><span style="--0:#F97583;--1:#BF3441">deg</span><span style="--0:#E1E4E8;--1:#24292E">, </span><span style="--0:#79B8FF;--1:#005CC5">#ff0</span><span style="--0:#E1E4E8;--1:#24292E">, </span><span style="--0:#79B8FF;--1:#005CC5">#f0f</span><span style="--0:#E1E4E8;--1:#24292E">);</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code=".search-highlight {  background: linear-gradient(45deg, #ff0, #f0f);}"><div></div></button></div></figure></div>
<ul>
<li>Use CSS classes instead of inline styles</li>
<li>No bypass needed</li>
<li>Angular allows safe tags and class attributes</li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="1pMAbG" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;31&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Best Practices</div>
<ul>
<li>Keep current with Angular releases</li>
<li>Don‚Äôt modify your copy of Angular</li>
<li>Avoid Angular APIs marked in the documentation as <em>Security Risk.</em></li>
<li>Avoid raw DOM manipulation</li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="1pMIc4" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;32&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="text-8xl text-left pl-10 font-semibold pt-20 dark:text-white">Server-Side Defenses</div>
 </template><!--astro:end--></astro-island><astro-island uid="1pMQcr" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;33&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Why Client Protection Isn‚Äôt Enough</div>
<ul>
<li>Attackers can bypass client entirely</li>
<li>Use <code>curl</code> or Postman to inject content directly</li>
<li>Poisoned dependency could compromise Angular</li>
<li>Sloppy engineering happens</li>
<li><strong>Defense in depth</strong>: Trust no single layer</li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="1pMYcO" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;34&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">API-Side Responsibilities</div>
<ul>
<li>Validate all input against expected patterns</li>
<li>Encode output before storing</li>
<li>Never trust ‚Äúsafe‚Äù input from client</li>
<li>Log suspicious patterns for monitoring</li>
<li>Reject obviously malicious content</li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="1pN7dc" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;35&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Example: .NET Validation</div>
<div class="expressive-code"><figure class="frame"><figcaption class="header"></figcaption><pre data-language="csharp"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#F97583;--1:#BF3441">public</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">class</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">CommentDto</span><span style="--0:#E1E4E8;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">[</span><span style="--0:#B392F0;--1:#6F42C1">Required</span><span style="--0:#E1E4E8;--1:#24292E">]</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">[</span><span style="--0:#B392F0;--1:#6F42C1">MaxLength</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#79B8FF;--1:#005CC5">500</span><span style="--0:#E1E4E8;--1:#24292E">)]</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">[</span><span style="--0:#B392F0;--1:#6F42C1">RegularExpression</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#9ECBFF;--1:#032F62">@&quot;^[^&lt;&gt;]*$&quot;</span><span style="--0:#E1E4E8;--1:#24292E">,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent">        </span><span style="--0:#B392F0;--1:#6F42C1">ErrorMessage</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#9ECBFF;--1:#032F62">&quot;HTML tags not allowed&quot;</span><span style="--0:#E1E4E8;--1:#24292E">)]</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent">    </span><span style="--0:#F97583;--1:#BF3441">public</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">string</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">Content</span><span style="--0:#E1E4E8;--1:#24292E"> { </span><span style="--0:#F97583;--1:#BF3441">get</span><span style="--0:#E1E4E8;--1:#24292E">; </span><span style="--0:#F97583;--1:#BF3441">set</span><span style="--0:#E1E4E8;--1:#24292E">; }</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span style="--0:#E1E4E8;--1:#24292E">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="public class CommentDto {    [Required]    [MaxLength(500)]    [RegularExpression(@&#34;^[^<>]*$&#34;,        ErrorMessage = &#34;HTML tags not allowed&#34;)]    public string Content { get; set; }}"><div></div></button></div></figure></div>
 </template><!--astro:end--></astro-island><astro-island uid="1pNfdz" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;36&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Example: Explicit Sanitization</div>
<div class="expressive-code"><figure class="frame has-title"><figcaption class="header"><span class="title">CommentsController.cs</span></figcaption><pre data-language="csharp"><code><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">1</div></div><div class="code"><span style="--0:#E1E4E8;--1:#24292E">app.</span><span style="--0:#B392F0;--1:#6F42C1">MapPost</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#9ECBFF;--1:#032F62">&quot;/api/comments&quot;</span><span style="--0:#E1E4E8;--1:#24292E">, </span><span style="--0:#B392F0;--1:#6F42C1">async</span><span style="--0:#E1E4E8;--1:#24292E"> (</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">2</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">CommentDto request,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">3</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">IHtmlSanitizer sanitizer,</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">4</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">AppDbContext db) =</span><span style="--0:#F97583;--1:#BF3441">&gt;</span><span style="--0:#E1E4E8;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">5</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">var comment </span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#F97583;--1:#BF3441">new</span><span style="--0:#E1E4E8;--1:#24292E"> </span><span style="--0:#B392F0;--1:#6F42C1">Comment</span><span style="--0:#E1E4E8;--1:#24292E"> {</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">6</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">Content </span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E"> sanitizer.</span><span style="--0:#B392F0;--1:#6F42C1">Sanitize</span><span style="--0:#E1E4E8;--1:#24292E">(request.Content),</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">7</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">        </span></span><span style="--0:#E1E4E8;--1:#24292E">AuthorId </span><span style="--0:#F97583;--1:#BF3441">=</span><span style="--0:#E1E4E8;--1:#24292E"> request.AuthorId</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">8</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">};</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">9</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">10</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">db.Comments.</span><span style="--0:#B392F0;--1:#6F42C1">Add</span><span style="--0:#E1E4E8;--1:#24292E">(comment);</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">11</div></div><div class="code"><span class="indent">    </span><span style="--0:#F97583;--1:#BF3441">await</span><span style="--0:#E1E4E8;--1:#24292E"> db.</span><span style="--0:#B392F0;--1:#6F42C1">SaveChangesAsync</span><span style="--0:#E1E4E8;--1:#24292E">();</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">12</div></div><div class="code">
</div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">13</div></div><div class="code"><span class="indent"><span style="--0:#E1E4E8;--1:#24292E">    </span></span><span style="--0:#E1E4E8;--1:#24292E">return Results.</span><span style="--0:#B392F0;--1:#6F42C1">Created</span><span style="--0:#E1E4E8;--1:#24292E">(</span><span style="--0:#9ECBFF;--1:#032F62">$&quot;/api/comments/</span><span style="--0:#9ECBFF;--1:#032F62">{</span><span style="--0:#E1E4E8;--1:#24292E">comment</span><span style="--0:#9ECBFF;--1:#032F62">.</span><span style="--0:#E1E4E8;--1:#24292E">Id</span><span style="--0:#9ECBFF;--1:#032F62">}</span><span style="--0:#9ECBFF;--1:#032F62">&quot;</span><span style="--0:#E1E4E8;--1:#24292E">, comment);</span></div></div><div class="ec-line"><div class="gutter"><div class="ln" aria-hidden="true">14</div></div><div class="code"><span style="--0:#E1E4E8;--1:#24292E">});</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="app.MapPost(&#34;/api/comments&#34;, async (    CommentDto request,    IHtmlSanitizer sanitizer,    AppDbContext db) => {    var comment = new Comment {        Content = sanitizer.Sanitize(request.Content),        AuthorId = request.AuthorId    };    db.Comments.Add(comment);    await db.SaveChangesAsync();    return Results.Created($&#34;/api/comments/{comment.Id}&#34;, comment);});"><div></div></button></div></figure></div>
<ul>
<li>Sanitize before storage, not just validate</li>
<li>Use library like <a href="https://github.com/mganss/HtmlSanitizer" rel="nofollow" target="_blank">HtmlSanitizer</a></li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="1pNndW" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;37&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Benefits of Server-Side Detection</div>
<ul>
<li>Know when someone is probing for vulnerabilities</li>
<li>Distinguish between fat-finger and attack</li>
<li>Rate-limit suspicious actors</li>
<li>Generate security metrics</li>
<li>Feed into SIEM for pattern analysis</li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="1pNvek" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;38&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Coming Up:Browser-Based Protections</div>
<ul>
<li>XSS is one attack vector among many</li>
<li>Browsers provide additional defense layers:
<ul>
<li><strong>Content Security Policy (CSP)</strong> - Control what scripts can run</li>
<li><strong>CORS</strong> - Control cross-origin resource access</li>
<li><strong>Trusted Types</strong> - Prevent dangerous sink assignments</li>
</ul>
</li>
<li>Next deck: How these mechanisms work and when to use them</li>
</ul>
 </template><!--astro:end--></astro-island><astro-island uid="1pNDeH" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;39&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="text-8xl text-left pl-10 font-semibold pt-20 dark:text-white">Fin</div>
 </template><!--astro:end--></astro-island><astro-island uid="1pQwn0" component-url="/_astro/Slide.B0AOQ5Gp.js" component-export="Slide" renderer-url="/_astro/client.BfPWZUkF.js" props="{&quot;slideIndex&quot;:[0,&quot;40&quot;]}" ssr client="only" opts="{&quot;name&quot;:&quot;Slide&quot;,&quot;value&quot;:&quot;react&quot;}" await-children><template data-astro-template> 
<div class="bc-slide-title">Recap</div>
<ol>
<li>Name 3 flavors of <strong>XSS</strong> attack.</li>
<li>What do XSS and SQL injection have in common?</li>
<li>How does <strong>Angular</strong> automatically protect against XSS?</li>
<li>Why are server-side safeguards still essential?</li>
</ol> </template><!--astro:end--></astro-island> </template><!--astro:end--></astro-island> </div> </main>  <footer class="flex justify-center py-8 mt-12 bg-opacity-75 dark:bg-opacity-70 dark:text-gray-300  bg-white dark:bg-gray-900">¬© <!-- -->2025<!-- --> Eric McMullen. All rights reserved.</footer> </body></html>