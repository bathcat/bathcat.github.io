import{j as u}from"./jsx-runtime.D_zvdyIk.js";import{r as o}from"./index.Cd_vQiNd.js";function w(){const[t,e]=o.useState({width:0,height:0});return o.useEffect(()=>{const n=()=>e({width:window.innerWidth,height:window.innerHeight});return window.addEventListener("resize",n),n(),()=>window.removeEventListener("resize",n)},[]),t}const m=(t,e)=>({x:t,y:e,_tag:"RelativePoint"});function g(t){return t._tag==="RelativePoint"}const v="rgba(255,0,0,1)",p="hsla(49,90%,50%,1)",R="rgba(0,0,255,1)",y=[v,p,R],P=()=>y[Math.floor(Math.random()*3)],c=(t,e)=>({x:t.x*e.width,y:t.y*e.height,_tag:"CanvasPoint"}),b=(t,e)=>{const n=c(e,t.canvas);t.beginPath(),t.arc(n.x,n.y,3,0,2*Math.PI),t.fill()},S=(t,e)=>{const n=c(e.origin,t.canvas),r=c(e.destination,t.canvas);t.beginPath(),t.strokeStyle=e.color,t.lineWidth=3,t.moveTo(n.x,n.y),t.lineTo(r.x,r.y),t.stroke()},f=(t,e)=>{if(g(e)){b(t,e);return}S(t,e)},x=t=>Array(t).fill(0).map(()=>m(Math.random(),Math.random())),z=t=>{const e=new Set;for(const n of t)for(const r of t)e.add(new Set([n,r]));return[...e].filter(n=>n.size===2).map(n=>[...n]).map(n=>({origin:n[0],destination:n[1],color:P()})).sort(()=>Math.random()-.5)},M=t=>{const e=x(t);return[...e,...z(e)]},j=()=>{const t=o.useRef(null),{width:e,height:n}=w(),r=o.useRef({drawables:M(50),index:0});return o.useEffect(()=>{if(!t.current)return;const i=t.current;i.width=e,i.height=n;const s=i.getContext("2d");s.reset();for(let a=0;a<r.current.index;a++)f(s,r.current.drawables[a]);let d=0,l=!1;const h=()=>{l||r.current.index>=r.current.drawables.length||(f(s,r.current.drawables[r.current.index++]),setTimeout(()=>d=requestAnimationFrame(h),Math.random()*2e3))};return h(),()=>{cancelAnimationFrame(d),l=!0}},[e,n]),u.jsx("div",{className:"fixed top-0 bottom-0 left-0 right-0 pointer-events-none z-50 motion-reduce:hidden",style:{zIndex:-1},children:u.jsx("canvas",{ref:t,className:"opacity-20",width:"400",height:"400"})})};export{j as Sol};
